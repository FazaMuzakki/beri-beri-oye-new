<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Program Berseri (Bersih & Lestari) DLH Jatim: pendaftaran, verifikasi, penilaian, dan rekapitulasi desa peserta." />
  <title>Berseri â€“ Beranda</title>
  <link rel="icon" type="image/webp" href="Asset/logo-berseri.webp" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Add Poppins font import -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Add Google Sans font import -->
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- Add Montserrat font import -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  
  <!-- Custom Roadmap styles -->
  <link rel="stylesheet" href="css/roadmap.css">
  
  <!-- Responsive styles -->
  <link rel="stylesheet" href="css/responsive.css">

  <!-- Pengumuman styles -->
  <link rel="stylesheet" href="css/pengumuman-styles.css">

  <style>
    /* Mobile Navigation Styles */
    @media (max-width: 768px) {
      .NavigationSlideOut {
        font-family: 'Poppins', sans-serif;
        width: 300px;
        height: 100vh;
        max-height: 100vh;
        position: fixed;
        top: 0;
        right: -300px;
        background-color: #202325;
        float: right;
        z-index: 2100;
        transition: right 0.2s cubic-bezier(0.01, 0.1, 0.01, 1);
        will-change: right;
        overflow-y: auto;
        overflow-x: hidden;
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.3);
      }

      .navbar {
        width: 300px;
        height: auto;
        display: block;
        margin: 0;
        padding: 140px 0 0 0;
      }

      .NavigationTab {
        width: 300px;
        min-height: 3em;
        display: block;
        font-size: 18px;
        transition: all 0.3s ease;
        margin-bottom: 10px;
        cursor: pointer;
      }

      .NavigationTab a {
        text-decoration: none;
        display: block;
        width: 100%;
      }

      .NavigationTab a p {
        font-family: 'Poppins', sans-serif;
        color: #ffffff;
        margin: 0 auto;
        padding: 8px 0;
        vertical-align: middle;
        font-size: 1em;
        line-height: 1.5;
        width: 80%;
        transition: all 0.2s ease;
        font-weight: normal;
        cursor: pointer;
      }

      .NavigationTab a:active p,
      .NavigationTab a:focus p,
      .NavigationTab:hover a p {
        width: 90%;
        color: #000000;
        background-color: #a9e66c;
        border-radius: 6px;
        padding: 8px 12px;
        font-weight: 600;
      }

      .menuIcon {
        background: #a9e66c;
        position: relative;
        margin: 8px 0;
        padding: 12px;
        z-index: 2101;
        cursor: pointer;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: all 0.3s ease;
      }

      .menuIcon div {
        width: 24px;
        height: 2px;
        background: #000000;
        margin: 3px;
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                    opacity 0.2s ease;
        transform-origin: center;
        border-radius: 2px;
      }

      .menuIcon:hover {
        background: #F1F1EF;
      }

      .menuIcon.on .line_one {
        transform: translateY(8px) rotate(45deg);
      }

      .menuIcon.on .line_two {
        opacity: 0;
        transform: scaleX(0);
      }

      .menuIcon.on .line_three {
        transform: translateY(-8px) rotate(-45deg);
      }

      /* Dropdown styling */
      .dropdown-content {
        display: block;
        opacity: 0;
        height: 0;
        overflow: hidden;
        background: transparent;
        transform-origin: top;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        pointer-events: none;
      }

      .dropdown-content a {
        display: block;
        text-decoration: none;
        pointer-events: auto;
      }

      .dropdown-content a p {
        padding: 8px 2rem !important;
        font-size: 0.9em !important;
        transition: all 0.2s ease;
        color: #ffffff;
        font-weight: normal;
        opacity: 0;
        transform: translateY(-5px);
        cursor: pointer;
        margin: 0 !important;
      }

      .dropdown-content.show {
        opacity: 1;
        height: auto;
        transform: translateY(0);
        pointer-events: auto;
      }

      .dropdown-content.show a {
        pointer-events: auto;
      }

      .dropdown-content.show a p {
        opacity: 1;
        transform: translateY(0);
        color: #ffffff;
      }

      .dropdown-content.show a:active p,
      .dropdown-content.show a:focus p,
      .dropdown-content.show a:hover p {
        background-color: #a9e66c;
        color: #000000;
        border-radius: 6px;
        font-weight: 600;
        padding: 8px 2rem !important;
      }

      /* Arrow indicator for data dropdown */
      #mobile-dropdown-btn p {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        padding-right: 25px !important;
      }

      #mobile-dropdown-btn svg {
        width: 16px;
        height: 16px;
        position: absolute;
        right: 4px;
        transition: transform 0.3s ease;
      }

      .NavigationTab.dropdown.active #mobile-dropdown-btn svg {
        transform: rotate(180deg);
      }

      /* Hover effects for dropdown items */
      .dropdown-content a:hover p {
        background-color: #a9e66c;
        color: #000000;
        font-weight: 600;
        border-radius: 6px;
        padding: 8px 2rem !important;
      }

      /* Additional spacing for dropdown items */
      .submenu-items {
        padding: 5px 0;
      }

      .submenu-items a p {
        margin: 5px auto !important;
        width: 80%;
        color: #ffffff;
        transition: all 0.2s ease;
        cursor: pointer;
      }

      .submenu-items a:hover p,
      .submenu-items a:active p,
      .submenu-items a:focus p {
        width: 90%;
        background-color: #a9e66c;
        color: #000000;
        font-weight: 600;
        border-radius: 6px;
      }
    }
  </style>

  <!-- Komponen Nilai Berseri CSS -->
  <style>
    /* Komponen Nilai Berseri Donut Chart */
    .komponen-section {
      background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
      padding: 3rem 1rem;
      position: relative;
    }

    .komponen-container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .komponen-header {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      margin-bottom: 3rem;
      text-align: center;
      align-items: center;
    }

    .komponen-title {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.875rem;
      font-weight: 800;
      color: #065F46;
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .komponen-title-bar {
      width: 96px;
      height: 4px;
      background-color: #f08519;
      margin: 0;
    }

    .komponen-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      align-items: center;
      justify-items: center;
    }

    .komponen-chart-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      overflow: hidden;
    }

    .komponen-chart-container {
      position: relative;
      width: 100%;
      max-width: 350px;
      height: 350px;
      margin: 0 auto;
      overflow: hidden;
    }

    .komponen-list {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
    }

    .komponen-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      overflow: hidden;
      width: 100%;
    }

    .komponen-icon {
      width: 48px;
      height: 48px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 1.5rem;
      font-weight: bold;
      color: rgb(255, 255, 255);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .komponen-icon.kepemimpinan {
      background: linear-gradient(135deg, #1D4ED8 0%, #1e40af 100%);
    }

    .komponen-icon.kelembagaan {
      background: linear-gradient(135deg, #F59E0B 0%, #d97706 100%);
    }

    .komponen-icon.sampah {
      background: linear-gradient(135deg, #10B981 0%, #059669 100%);
    }

    .komponen-icon.ruang-hijau {
      background: linear-gradient(135deg, #06B6D4 0%, #0891b2 100%);
    }

    .komponen-icon.energi {
      background: linear-gradient(135deg, #EC4899 0%, #be185d 100%);
    }

    .komponen-icon.air {
      background: linear-gradient(135deg, #8B5CF6 0%, #6d28d9 100%);
    }

    .komponen-text {
      flex: 1;
    }

    .komponen-text-label {
      font-family: 'Poppins', sans-serif;
      font-size: 1.25rem;
      color: #1f2937;
      margin: 0;
      line-height: 1.5;
      font-weight: 600;
    }

    .komponen-item {
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      padding: 0.75rem;
      border-radius: 0.5rem;
      position: relative;
      border: 2px solid transparent;
    }

    .komponen-item.highlighted {
      background-color: #f0fdf4;
      transform: scale(1.15) translateX(8px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15), inset 0 0 0 1px rgba(6, 95, 70, 0.2);
      border: 2px solid #065F46;
      padding-left: 0.5rem;
    }

    body.dark-mode .komponen-item.highlighted {
      background-color: rgba(127, 231, 201, 0.15);
      box-shadow: 0 8px 24px rgba(127, 231, 201, 0.1), inset 0 0 0 1px rgba(6, 95, 70, 0.3);
      border: 2px solid #065F46;
    }

    .komponen-connector-line {
      display: none;
    }

    .komponen-connector-line.visible {
      display: none;
    }

    @keyframes drawLine {
      from {
        stroke-dashoffset: 100;
      }
      to {
        stroke-dashoffset: 0;
      }
    }

    /* Responsive untuk mobile */
    @media (max-width: 768px) {
      .komponen-item.highlighted {
        transform: scale(1.08) translateX(4px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(6, 95, 70, 0.2);
        border: 2px solid #065F46;
      }

      body.dark-mode .komponen-item.highlighted {
        box-shadow: 0 4px 12px rgba(127, 231, 201, 0.1), inset 0 0 0 1px rgba(6, 95, 70, 0.3);
        border: 2px solid #065F46;
      }
    }

    @media (max-width: 480px) {
      .komponen-item.highlighted {
        transform: scale(1.05) translateX(2px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08), inset 0 0 0 1px rgba(6, 95, 70, 0.15);
        border: 2px solid #065F46;
        padding-left: 0.75rem;
      }

      body.dark-mode .komponen-item.highlighted {
        box-shadow: 0 2px 8px rgba(127, 231, 201, 0.1), inset 0 0 0 1px rgba(6, 95, 70, 0.3);
        border: 2px solid #065F46;
      }
    }

    /* Dark mode styles */
    body.dark-mode .komponen-section {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    }

    body.dark-mode .komponen-title {
      color: #7FE7C9;
    }

    body.dark-mode .komponen-text-label {
      color: #e5e7eb;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .komponen-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .komponen-chart-container {
        max-width: 280px;
        height: 280px;
      }

      .komponen-title {
        font-size: 1.875rem;
      }

      .komponen-item {
        gap: 0.75rem;
      }

      .komponen-text-label {
        font-size: 0.875rem;
      }
    }

    @media (max-width: 480px) {
      .komponen-section {
        padding: 1.5rem 0;
      }

      .komponen-container {
        padding: 0 1rem;
      }

      .komponen-header {
        margin-bottom: 1rem;
      }

      .komponen-chart-container {
        max-width: 160px;
        height: 160px;
      }

      .komponen-title {
        font-size: 1.25rem;
      }

      .komponen-list {
        gap: 0.5rem;
        max-width: 100%;
      }

      .komponen-item {
        gap: 0.4rem;
        padding: 0.25rem;
      }

      .komponen-icon {
        width: 32px;
        height: 32px;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      .komponen-text-label {
        font-size: 0.75rem;
        line-height: 1.3;
      }

      .komponen-item.highlighted {
        transform: scale(1.02);
      }
    }
  </style>

  <!-- Leaflet CSS & JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- MarkerCluster CSS & JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

<style>
/* Custom Cluster Styling */
.marker-cluster {
  background: rgba(255, 255, 255, 0.8);
  border: 2px solid #fff;
  border-radius: 50%;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  width: 40px !important;
  height: 40px !important;
  margin-left: -20px !important;
  margin-top: -20px !important;
}

.marker-cluster div {
  width: 34px !important;
  height: 34px !important;
  margin: 1px !important;
  padding: 0 !important;
  border-radius: 50%;
  font-family: 'Poppins', sans-serif;
  font-weight: bold;
  font-size: 14px;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.marker-cluster-small {
  background-color: rgba(181, 226, 140, 0.8);
}

.marker-cluster-small div {
  background-color: #65a30d;
}

.marker-cluster-medium {
  background-color: rgba(241, 211, 87, 0.8);
}

.marker-cluster-medium div {
  background-color: #d97706;
}

.marker-cluster-large {
  background-color: rgba(253, 156, 115, 0.8);
}

.marker-cluster-large div {
  background-color: #dc2626;
}

.marker-cluster span {
  line-height: 34px;
}

/* Style untuk tombol filter */
.jenis-peta {
    padding: 6px 12px;
    margin: 0 4px;
    border-radius: 4px;
    font-family: 'Poppins', sans-serif;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid #e5e7eb;
    background: #fff;
}

/* Style untuk tombol aktif berdasarkan kategori */
.jenis-peta.active[data-jenis="pratama"] {
    background-color: #4169E1;
    color: white;
    border-color: #4169E1;
}

.jenis-peta.active[data-jenis="madya"] {
    background-color: #FFA500;
    color: white;
    border-color: #FFA500;
}

.jenis-peta.active[data-jenis="mandiri"] {
    background-color: #32CD32;
    color: white;
    border-color: #32CD32;
}

/* Hover effect */
.jenis-peta:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>

  <style>
    .marker-cluster {
      background-clip: padding-box;
      border-radius: 20px;
    }
    
    .marker-cluster div {
      width: 30px;
      height: 30px;
      margin-left: 5px;
      margin-top: 5px;
      text-align: center;
      border-radius: 15px;
      font-family: 'Poppins', sans-serif;
      font-size: 12px;
      color: white;
      line-height: 30px;
    }
    
    .marker-cluster-small {
      background-color: rgba(181, 226, 140, 0.6);
    }
    .marker-cluster-small div {
      background-color: rgba(110, 204, 57, 0.6);
    }
    
    .marker-cluster-medium {
      background-color: rgba(241, 211, 87, 0.6);
    }
    .marker-cluster-medium div {
      background-color: rgba(240, 194, 12, 0.6);
    }
    
    .marker-cluster-large {
      background-color: rgba(253, 156, 115, 0.6);
    }
    .marker-cluster-large div {
      background-color: rgba(241, 128, 23, 0.6);
    }
  </style>
  <!-- Map interaction handler -->
  <script src="js/map-interaction.js" defer></script>
  <!-- Desktop Navigation handler -->
  <script src="js/desktop-nav.js" defer></script>
  <!-- Mobile Navigation handler -->
  <script src="js/mobile-nav.js" defer></script>
  
  <!-- Chart.js for donut chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>

  <style>
    :root{
      --bg:#FFFFFF; --bg-soft:#F7FAF7; --ink:#000000; --muted:#374151;
      --primary:#087959; --primary-weak:#D1FAE5; --border:#E5E7EB; --focus:#10B981;
    }
    html, body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; }
    body { font-size: 18px; line-height: 1.6; background: var(--bg); color: var(--ink); }

    /* Style untuk Back to Top Button */
    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: #087959; /* Warna hijau sesuai gambar */
      border-radius: 6px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 99;
    }

    .back-to-top.show {
      opacity: 1;
      visibility: visible;
    }

    .back-to-top:hover {
      background-color: #065F46;
    }

    .back-to-top svg {
      width: 16px;
      height: 16px;
      stroke: white;
      stroke-width: 3;
      fill: none;
    }

    .btn { min-height:48px; display:inline-flex; align-items:center; justify-content:center; padding: 12px 20px; border-radius: 12px; font-weight: 600; }
    
    /* Update login button styles */
    .btn.btn-primary {
      background-color: #a9e66c !important;
      color: #000000 !important;
      font-family: 'Poppins', sans-serif !important;
      font-weight: 600 !important;
      border: 2px solid #a9e66c !important;
      transition: all 0.2s ease !important;
      padding: 0.5rem 0.75rem !important;
      min-height: auto !important;
      text-decoration: none !important;
      border-radius: 6px !important;
      /* Hapus box-shadow dan outline saat focus */
      outline: none !important;
      box-shadow: none !important;
    }

    .btn.btn-primary:hover {
      background-color: #F1F1EF !important;
      color: #000000 !important;
      font-weight: normal !important;
      border: 3px solid #a9e66c !important;
      text-decoration: none !important;
    }

    /* Hapus atau timpa style focus yang ada */
    .btn-primary:focus,
    .btn.btn-primary:focus {
      outline: none !important;
      box-shadow: none !important;
      border: 2px solid #a9e66c !important;
    }

    /* Tambahkan style untuk active state */
    .btn.btn-primary:active {
      background-color: #F1F1EF !important;
      transform: translateY(1px);
    }


    .btn-primary:hover{ filter:brightness(1.05); }
    .btn-primary:focus{ outline:3px solid transparent; box-shadow:0 0 0 3px var(--focus); }
    .btn-secondary { background:#fff; color:var(--primary); border:2px solid var(--primary); }
    .btn-secondary:hover{ background:var(--primary-weak); }
    .btn-secondary:focus{ outline:3px solid transparent; box-shadow:0 0 0 3px var(--focus); }

    .card { 
      border: 2px solid #ffffff; /* Changed border color to white */
      box-shadow: none;
      transition: all 0.3s ease;
      background: #fff; 
      border-radius: 16px; 
      padding: 24px; 
    }
    .card:hover {
      border-color: #d1d5db; /* Keep hover border color light gray */
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      transform: translateY(-2px);
    }

    /* Specifically for category cards */
.card.p-0.overflow-hidden {
    padding: 0;
    box-shadow: none;
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border-radius: 12px; /* Sesuaikan border-radius card utama */
    overflow: hidden; /* Pastikan overflow hidden */
}

/* Update image container styling */
.h-64.bg-blue-50,
.h-64.bg-amber-50,
.h-64.bg-emerald-50 {
    height: 256px;
    overflow: hidden;
    border-radius: 0; /* Hapus border-radius pada container gambar */
}

.card.p-0.overflow-hidden img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    margin: 0; /* Hapus margin */
    border-radius: 0; /* Hapus border-radius pada gambar */
}

/* Update content container */
.card.p-0.overflow-hidden .p-4 {
    border-radius: 0; /* Hapus border-radius pada konten */
    background: white;
    padding: 1rem;
}

.card.p-0.overflow-hidden:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

    .icon-round { width:40px; height:40px; border-radius:9999px; display:inline-flex; align-items:center; justify-content:center; background:var(--primary-weak); color:var(--primary); font-weight:800; }
    a{ color:var(--primary); } a:hover{ text-decoration:underline; }
    :focus-visible{ outline:3px solid var(--focus); outline-offset:2px; }

    /* Peta & legend */
    #map-wrapper { position: relative; } 
    #map-jatim { width:100%; min-height: 420px; border-radius: 0; border:1px solid var(--border); position: relative; z-index: 0; }
    
    /* Map interaction toggle button */
    #mapInteractionToggle {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1001;
      background: white;
      border: 2px solid var(--primary);
      color: var(--primary);
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
    }
    
    #mapInteractionToggle:hover {
      background: var(--primary-weak);
    }
    
    #mapInteractionToggle.active {
      background: var(--primary);
      color: white;
    }
    
    /* Map interaction overlay */
    .map-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255,255,255,0.01);
      z-index: 1000;
      cursor: not-allowed;
    }

    /* Agar header selalu di atas kontrol Leaflet (z-index default Leaflet ~1000) */
    header.sticky { z-index: 2000 !important; }
    .leaflet-top, .leaflet-bottom { 
    z-index: 1000; 
  }

  /* Add these styles to your existing style section */
.category-container {
    max-width: 7xl;
    margin: 0 auto;
    padding: 0 1.5rem;
}

.category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    width: 100%;
}

.category-title-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.category-link {
    font-size: 0.875rem;
    color: #065F46;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

/* Wavy border section styling */
.wavy-section {
    position: relative;
    background-color: #000000; /* Black background */
    padding: 6rem 0 4rem;
    margin-top: 4rem;
}

/* Create wavy border effect */
.wavy-section::before {
    content: "";
    position: absolute;
    top: -50px;
    left: 0;
    width: 100%;
    height: 50px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 100'%3E%3Cpath fill='%23111827' d='M0,50 C150,100 350,0 500,50 C650,100 850,0 1000,50 C1150,100 1350,0 1440,50 L1440,100 L0,100 Z'/%3E%3C/svg%3E");
    background-size: cover;
    background-repeat: no-repeat;
}

/* Update roadmap cards styling */
.roadmap-card {
    background: white;
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    height: 100%;
}

.roadmap-title {
    color: #065F46;
    margin-bottom: 1rem;
}

.roadmap-desc {
    color: #4B5563;
}

/* style Untuk statistics cards */
.statistics-card {
    background-color: white;
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.statistics-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    border-color: #e5e7eb;
}

.statistics-card p:first-child {
    color: #4B5563;
    font-size: 0.875rem;
    font-family: 'Poppins', sans-serif;
    margin-bottom: 0.5rem;
}

.statistics-card p:last-child {
    color: #065F46;
    font-size: 2.25rem;
    font-weight: 800;
    font-family: 'Montserrat', sans-serif;
    line-height: 1;
}


/* Dark Mode Section Titles */
    body.dark-mode .section-title {
        color: #7FE7C9 !important;
    }

    body.dark-mode h2[style*="color: #065F46"] {
        color: #7FE7C9 !important;
    }

    body.dark-mode .text-\[#065F46\] {
        color: #7FE7C9 !important;
    }

    /* Specific untuk Montserrat font titles */
    body.dark-mode h2[style*="font-family: 'Montserrat'"] {
        color: #7FE7C9 !important;
    }

    /* Category title dan panduan link */
    body.dark-mode .category-title,
    body.dark-mode .panduan-link,
    body.dark-mode .category-link {
        color: #7FE7C9 !important;
    }

    /* FAQ Container title */
    body.dark-mode .faq-container h2 {
        color: #7FE7C9 !important;
    }

    /* Announcement container title */
    body.dark-mode .announcement-container h2 {
        color: #7FE7C9 !important;
    }

    /* Statistics title */
    body.dark-mode .statistics-card p:first-child {
        color: #7FE7C9 !important;
    }

    /* Map section title */
    body.dark-mode #peta h2 {
        color: #7FE7C9 !important;
    }

    /* Alur section title */
    body.dark-mode #Alur h2 {
        color: #7FE7C9 !important;
    }

    /* Tentang section title */
    body.dark-mode #tentang h2 {
        color: #7FE7C9 !important;
    }
    /* Panel guard interaksi peta */
    #map-guard { pointer-events: none; }
    .map-guard-panel {
      pointer-events: auto;
      border-radius: 12px;
      padding: 12px;
    }
    /* Announcement Container */
    .announcement-container {
      --announcement-bg: #F1F1EF;
      --announcement-border: #F1F1EF;
      --announcement-shadow: rgba(0, 0, 0, 0.1);
      background: var(--announcement-bg);
      border: 1px solid var(--announcement-border);
      box-shadow: 0 4px 6px var(--announcement-shadow);
      padding: 1.5rem;
      border-radius: 12px;
      height: 600px; /* Reduced height */
      display: flex;
      flex-direction: column;
    }

    /* Pengumuman Content Container */
    .space-y-6.max-w-3xl.mx-auto {
      background: transparent;
      padding: 4px;
      border-radius: 8px;
      margin-top: 1rem;
      flex-grow: 1;
      overflow-y: auto; /* Enable vertical scrolling */
      scrollbar-width: thin;
      scrollbar-color: rgba(50, 127, 75, 0.3) transparent;
    }

    /* Scrollbar styling */
    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar {
      width: 6px;
    }

    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-track {
      background: transparent;
    }

    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-thumb {
      background-color: rgba(50, 127, 75, 0.3);
      border-radius: 3px;
    }

    .announcement-container .section-title {
      color: #327f4b;
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    /* Kotak pengumuman */
    .announcement-box {
        background-color: #ffffff; 
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        display: flex;
        overflow: hidden;
        height: 80px; /* Reduced fixed height */
        width: 100%;
        border: 1px solid #E5E7EB;
        margin-bottom: 12px;
    }

    .announcement-box:hover {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
    }

    .announcement-image-container {
        width: 100px; /* Reduced fixed width */
        min-width: 100px; /* Reduced min-width */
        height: 120px; /* Matches box height */
        position: relative;
        overflow: hidden;
        flex-shrink: 0; /* Prevent image container from shrinking */
    }

    .announcement-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        display: block;
    }

    .announcement-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 6px 10px;
        min-width: 0;
        background: white;
        overflow: hidden; /* Contain content */
    }

    .announcement-date {
        font-size: 0.7rem; /* Even smaller font size */
        color: #6B7280;
        font-family: 'Poppins', sans-serif;
        margin-bottom: 2px;
    }

    .announcement-text {
        font-size: 0.8rem; /* Even smaller font size */
        color: #111827;
        font-family: 'Poppins', sans-serif;
        line-height: 1.3;
        overflow-y: auto; /* Enable vertical scrolling */
        margin: 0;
        padding-right: 4px; /* Space for scrollbar */
        scrollbar-width: thin;
        scrollbar-color: rgba(50, 127, 75, 0.3) transparent;
        max-height: 45px; /* Limit text height */
    }    /* Responsive styles */
    @media (max-width: 768px) {
      .announcement-container {
        height: 500px;
      }

      .announcement-box {
        height: auto; /* Allow height to expand */
        min-height: 80px; /* Minimum height */
        flex-direction: row; /* Keep image and content side by side */
      }

      .announcement-image-container {
        width: 80px;
        min-width: 80px;
        height: 80px;
        flex-shrink: 0; /* Prevent image from shrinking */
      }

      .announcement-content {
        padding: 8px 10px;
        display: flex;
        flex-direction: column;
      }

      .announcement-date {
        font-size: 0.7rem;
        margin-bottom: 4px;
        color: #6B7280;
      }

      .announcement-text {
        font-size: 0.8rem;
        line-height: 1.4;
        max-height: none; /* Remove max-height to show all text */
        overflow: visible; /* Show all content */
        color: #111827;
      }
    }

    @media (max-width: 480px) {
      .announcement-container {
        height: 450px;
      }

      .announcement-box {
        min-height: 70px;
      }

      .announcement-image-container {
        width: 70px;
        min-width: 70px;
        height: 70px;
      }

      .announcement-content {
        padding: 6px 8px;
      }

      .announcement-date {
        font-size: 0.65rem;
        margin-bottom: 3px;
      }

      .announcement-text {
        font-size: 0.75rem;
        line-height: 1.3;
      }
    }

    /* Container scrollbar styling */
    .space-y-6.max-w-3xl.mx-auto {
      scrollbar-width: thin;
      scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
      -webkit-overflow-scrolling: touch;
    }

    /* FAQ */
    .faq-container {
      --faq-container-bg: transparent!important;
      --faq-container-border: transparent!important;
      --faq-container-shadow: transparent!important;
      background: var(--faq-container-bg);
      border: none!important;
      box-shadow: none!important;
      padding: 1.5rem;
      height: 100%;
    }

    .faq-accordion {
      background: #ffffff;
      padding: 0;
      margin-top: 1rem;
    }

    .faq-accordion details {
      background: #ffffff;
      margin-bottom: 1rem;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      padding: 0;
      display: block;
    }

    /* Update FAQ accordion styles */
.faq-accordion {
  /* Base colors */
  --faq-bg: var(--faq-container-bg, #ffffff);
  --faq-text: #000000;
  --faq-border: #e5e7eb;
  
  /* Update accent colors */
  --faq-accent: #065F46; /* Changed to dark green */
  --faq-accent-hover: #065F46; /* Changed hover color */
  
  /* Interactive elements */
  --faq-chevron-bg: #ffffff;
  --faq-chevron-border: currentColor;
  --faq-chevron-fill: currentColor;
  
  /* Shadow */
  --faq-hover-shadow: rgba(6, 95, 70, 0.08); /* Updated shadow color to match new green */
  width: 100%;
  max-width: 100%;
}

.faq-accordion details:hover {
  border-color: #065F46; /* Changed border color on hover */
  box-shadow: 0 4px 12px rgba(6, 95, 70, 0.08);
}

.faq-accordion summary:hover {
  color: #065F46; /* Changed text color on hover */
}

.faq-accordion details[open] summary {
  color: #065F46; /* Changed color when accordion is open */
}

.faq-accordion details[open] .chev svg {
  fill: #065F46; /* Changed arrow color when open */
}

.faq-accordion summary {
  border-radius: 10px;
  list-style: none;
  cursor: pointer;
  padding: 1rem;
  color: #000000;
  font-weight: 700;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;
  background: #ffffff;
  transition: color 0.3s ease;
  min-height: 56px;
}

    .faq-accordion summary:hover {
      color: var(--faq-accent);
    }
    
    .faq-accordion summary::-webkit-details-marker {
      display: none
    }
    
    .faq-accordion .chev {
      width: 36px;
      height: 36px;
      display: grid;
      place-items: center;
      border: 1px solid #e5e7eb;
      border-radius: 999px;
      background: #ffffff;
      transition: all 0.3s ease;
    }
    
    .faq-accordion .chev svg {
      width: 18px;
      height: 18px;
      fill: #065F46;
      transition: fill 0.3s ease;
    }
    
    .faq-accordion details[open] .chev {
      transform: rotate(180deg);
      border-color: #065F46;
      background: #ffffff;
    }
      
    .faq-accordion details[open] summary {
      color: var(--faq-accent);
    }
    
    .faq-accordion details[open] .chev {
      transform: rotate(180deg);
      border-color: var(--faq-accent);
      background: var(--faq-chevron-bg);
    }
    
    .faq-accordion details[open] .chev svg {
      fill: #065F46;
    }
    
    .faq-accordion .content {
  padding: 0 1rem 1rem;
  background: #ffffff;
  display: block;
}

    @keyframes contentFade {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @media (max-width:767px){summary{padding:14px}.content{padding:0 14px 14px}}
    
  </style>
  
  <style>
  @keyframes marquee {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
  .animate-marquee {
    display: inline-block;
    min-width: 100%;
    animation: marquee 15s linear infinite;
    will-change: transform; 
  }
  .animate-marquee:hover {
    animation-play-state: paused; 
  }
</style>

<style>
/* Animasi untuk card kategori */
.card {
  transition: transform 0.2s ease-in-out;
}

/* Animasi pop-up saat hover */
.card:hover {
  transform: translateY(-8px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

/* Tambahkan smooth transition untuk shadow */
.card {
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* Animasi getaran halus */
@keyframes gentleShake {
  0% { transform: translateY(0); }
  25% { transform: translateY(-2px); }
  75% { transform: translateY(2px); }
  100% { transform: translateY(0); }
}

/* Update navigation link styles */
.nav-link {
  position: relative;
  padding: 0.5rem 0.75rem;
  font-family: 'Poppins', sans-serif;
  color: var(--muted);
  font-weight: normal;
  transition: all 0.2s ease;
  text-decoration: none !important;
}

.nav-link:hover {
  background-color: #a9e66c !important;
  color: #000000 !important; /* Change to black */
  border-radius: 6px;
  font-weight: 600;
  text-decoration: none !important;
}

/* Update dropdown button style */
#desktop-dropdown-btn:hover {
  background-color: #a9e66c;
  color: #000000 !important; /* Change to black */
  border-radius: 6px;
  font-weight: 600;
}
/* Desktop Dropdown Menu Links */
#desktop-dropdown-menu a {
  color: #374151;
  transition: all 0.2s ease;
}

#desktop-dropdown-menu a:hover {
  background-color: #a9e66c !important;
  color: #000000 !important;
  font-weight: 600;
}

  </style>

  <style>
    /* Navbar Layout */
    nav {
      display: flex;
      align-items: center;
    }

    nav > div {
      width: 100%;
    }

    .nav-link {
      padding: 0.5rem 0.75rem;
      white-space: nowrap;
    }

    /* Desktop Dropdown styling */
    .dropdown-menu {
      display: block;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.2s ease-in-out;
    }

    .dropdown-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    /* Ensure dropdown is above other content */
    .relative {
      position: relative;
      z-index: 50;
    }

    /* Responsive breakpoints for navbar */
    @media (min-width: 768px) and (max-width: 1023px) {
      .nav-link {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
      
      nav img.h-16 {
        height: 3.5rem;
      }
    }

    @media (min-width: 1024px) {
      .nav-link {
        padding: 0.5rem 0.75rem;
      }
    }

      /* Mobile dropdown styling */
      #mobile-dropdown {
        display: none;
      }

      #mobile-dropdown.show {
        display: block;
      }

      /* Mobile nav link hover effect */
      #mobile-menu .nav-link {
        transition: background-color 0.2s ease;
      }

      #mobile-menu .nav-link:hover {
        background-color: white;
        color: var(--primary);
      }

      /* Mobile dropdown menu items */
      #mobile-dropdown a {
        display: block;
        padding: 0.5rem 1rem;
        margin: 0;
        border-radius: 0;
      }

      #mobile-dropdown .submenu-items {
        padding: 0;
        margin: 0;
      }

      #mobile-dropdown .submenu-items a p {
        padding: 0.5rem 1.5rem !important;
        margin: 0 !important;
        font-size: 0.9em;
        color: rgba(255,255,255,0.8);
      }

      #mobile-dropdown a:hover {
        background-color: var(--primary-weak);
        color: var(--primary);
      }

      /* Tambahkan CSS ini */
      section.py-10 {
        margin-bottom: 3rem; /* Menambah jarak dengan footer */
      }    /* Atau lebih spesifik untuk pengumuman section */
    section.py-10 .grid {
      margin-bottom: 2rem;
    }

    /* Atau alternatif lain dengan menambah padding bottom */
    section.py-10 {
      padding-bottom: 5rem; /* Menambah padding di bagian bawah section */
    }

    /* FAQ Container Box styling */
    .faq-container {
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 1rem;
      padding: 1.5rem; /* Ubah dari 2rem menjadi 1.5rem */
      height: 100%;
    }

    /* Sesuaikan margin bottom pada header FAQ */
    .faq-container .flex.items-center.gap-3.mb-6 {
      margin-bottom: 1rem; /* Ubah dari mb-6 (1.5rem) menjadi 1rem */
    }

    /* Sesuaikan margin pada accordion details */
    .faq-accordion details {
      margin-top: 0.75rem; /* Ubah dari 14px menjadi 0.75rem */
    }

    .faq-accordion {
  margin-top: 1rem; /* add margin top to accordion */
  }

  /* Optional: add padding to the container */
  .faq-container {
    padding-top: 1rem; /* add padding to top of container */
  }

  /* Adjust the gap between title and line */
  .flex.flex-col.items-center.gap-3 {
    gap: 0.5rem; /* reduce gap between title and line */
  }

    /* Variabel dasar */
  :root {
    --btn-color: #059669; /* Warna hijau emerald */
    --btn-size: 50px;
  }

  /* Gaya dasar tombol */
  #backToTopBtn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
    background-color: var(--btn-color);
    color: white;
    border: none;
    width: var(--btn-size);
    height: var(--btn-size);
    font-size: 22px;
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s, transform 0.3s, border-radius 0.3s;
  }

  #backToTopBtn:hover {
    background-color: #047857;
    transform: scale(1);
  }

  /* Saat tombol terlihat */
  #backToTopBtn.show {
    opacity: 1;
    pointer-events: auto;
  }

  /* Bentuk bundar */
  #backToTopBtn.circle {
    border-radius: 50%;
  }

  /* Bentuk kotak */
  #backToTopBtn.square {
    border-radius: 0.5rem; /* Bisa diubah sesuai selera */
  }

  /* Scroll Lock untuk Mobile Menu */
  body.menu-open {
    overflow: hidden !important;
  }

  html.menu-open {
    overflow: hidden !important;
  }

  /* Pastikan footer dan elemen lain tetap dapat diakses */
  body.menu-open main,
  body.menu-open footer {
    opacity: 0.5;
    pointer-events: none;
    transition: opacity 0.2s ease;
  }

  /* Header tetap visible dan interactive saat menu open */
  body.menu-open header {
    opacity: 1;
    pointer-events: auto;
  }

  /* Overlay fullscreen - visual only */
  body.menu-open::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
    z-index: 2050;
    pointer-events: none;
  }

  /* Area close detection - hanya di area selain menu slider */
  body.menu-open::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: calc(100% - 300px);
    bottom: 0;
    z-index: 2049;
    pointer-events: auto;
  }
  </style>
  <style>
    /* Add Poppins font styling */
    .hero-title {
      font-family: 'Poppins', sans-serif;
    }

    /* Add Poppins font styling */
    .section-title {
      font-family: 'Poppins', sans-serif !important;
    }

    /* Style untuk kotak KATEGORI */
    .category-title {
    font-family: 'Poppins', sans-serif !important;
    font-weight: 600;
    }

    .category-desc {
  font-family: 'Google Sans', sans-serif !important;
  font-weight: 400 !important;
    }


  
    /* Style untuk kotak dibawah FAQ */
    .faq-accordion summary span:first-child {
      font-family: 'Poppins', sans-serif !important;
      font-weight: 600;
      font-size: 16px;
    }

    .faq-accordion .content {
      font-family: 'Google Sans', sans-serif !important;
      font-weight: 400;
      font-size: 14px;
      line-height: 1.6;
      padding: 0 1rem 1rem;
    }

    /* CSS Kotak Pengumuman */
    .space-y-6.max-w-3xl.mx-auto {
        scrollbar-width: thin;
        scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
    }

    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar {
        width: 6px;
    }

    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-track {
        background: transparent;
    }

    .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-thumb {
        background-color: rgba(155, 155, 155, 0.5);
        border-radius: 20px;
        border: transparent;
    }

    .announcement-container {
        overflow: hidden; /* Ensures the container doesn't scroll */
    }
  </style>

  <!-- Add this CSS to make announcements mobile-friendly -->
  <style>
    @media (max-width: 768px) {
  /* Adjust announcement container for mobile */
  .announcement-container {
    height: auto;
    min-height: 400px;
    max-height: 500px;
    padding: 1rem;
    background-color: #F1F1EF; /* Keep consistent with desktop */
  }

  /* Make announcement boxes more compact on mobile */
  .announcement-box {
    margin-bottom: 12px;
    height: auto;
    min-height: 120px;
    background-color: #ffffff; /* Keep consistent with desktop */
  }

  .announcement-image-container {
    width: 120px;
    min-width: 120px;
    height: 100%;
  }

  /* Adjust text for mobile while keeping consistent styling */
  .announcement-text {
    font-family: 'Poppins', sans-serif;
    font-size: 0.875rem;
    line-height: 1.4;
    color: #111827; /* Keep consistent with desktop */
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }

  .announcement-date {
    font-family: 'Poppins', sans-serif;
    font-size: 0.75rem;
    color: #6B7280; /* Keep consistent with desktop */
  }

  .announcement-content {
    padding: 8px 12px;
    background-color: #ffffff; /* Keep consistent with desktop */
  }

  /* Adjust scrollbar for mobile touch */
  .space-y-6.max-w-3xl.mx-auto {
    -webkit-overflow-scrolling: touch;
    padding-right: 8px;
  }

  /* Make the scrollbar thinner on mobile */
  .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar {
    width: 4px;
  }

  .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-thumb {
    background-color: rgba(50, 127, 75, 0.3); /* Keep consistent with desktop */
    border-radius: 4px;
  }

  /* Adjust grid layout for mobile */
  .grid.grid-cols-1.md\:grid-cols-2.gap-6 {
    gap: 1rem;
  }
}

/* Add smooth momentum scrolling for iOS */
.space-y-6.max-w-3xl.mx-auto {
  -webkit-overflow-scrolling: touch;
}
  </style>

<style>
/* Announcement Box Styles */
.announcement-box {
    display: flex;
    background-color: #3C3C3C;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 1rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    height: auto;
    min-height: 120px;
}

.announcement-image-container {
    width: 120px;
    min-width: 120px;
    position: relative;
    overflow: hidden;
}

.announcement-image-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('Asset/logo-berseri.webp');
    background-size: cover;
    background-position: center;
    opacity: 0;
}

.announcement-image-container:not(:has(img[src]:not([src=""]):not([src="#"])))::after {
    opacity: 1;
}

.announcement-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

.announcement-content {
    padding: 1rem;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.announcement-date {
    display: block;
    font-size: 0.875rem;
    color: #707070;
    margin-bottom: 0.5rem;
}

.announcement-text {
    color: #000000;
    margin: 0;
    font-size: 0.9375rem;
    line-height: 1.5;
}

/* Responsive adjustments for announcement box */
@media screen and (max-width: 768px) {
    .announcement-box {
        flex-direction: column;
    }

    .announcement-image-container {
        width: 100%;
        height: 200px;
    }
}

/* Responsive styles for panduan image container */
@media screen and (max-width: 768px) {
    #Alur .relative {
        aspect-ratio: 16/9;
        width: 100%;
        height: auto;
        margin: 0;
    }

    #Alur img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 8px;
    }

    #Alur .max-w-\[1920px\] {
        max-width: 100%;
        padding: 0;
    }

    #Alur.py-10 {
        padding: 2rem 0;
    }

    #Alur .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
    }

    #Alur h2.text-3xl {
        font-size: 1.5rem;
    }

    #Alur .aspect-\[16\/9\] {
        margin-top: 1rem;
    }
}

@media screen and (max-width: 480px) {
    #Alur .aspect-\[16\/9\] {
        aspect-ratio: 4/3;
    }
}

/* Footer styles */
footer {
  font-family: 'Poppins', sans-serif;
}

/* Footer headings */
footer h3 {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  font-size: 1.125rem;
  line-height: 1.75rem;
  margin-bottom: 1rem;
}

/* Footer text and links */
footer p, 
footer a, 
footer address {
  font-family: 'Poppins', sans-serif;
  font-size: 0.875rem;
  line-height: 1.25rem;
}

/* Footer divider line */
footer .border-t {
  border-top-color: #f08519;
}

/* Footer copyright section */
footer .text-center {
  padding-top: 2rem;
  margin-top: 2rem;
}

/* Footer icons */
footer svg {
  height: 1.25rem;
  width: 1.25rem;
}

/* Modal Image */
.modal {
  display: none;
  position: fixed;
  z-index: 9999; /* High z-index */
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.95); /* Darker background */
}

.modal-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.modal-image-wrapper {
    position: relative;
    overflow: visible;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    margin: auto;
    display: block;
    max-width: 90%;
    max-height: 90vh;
    cursor: zoom-in;
    transition: transform 0.3s ease;
    transform-origin: center;
    user-select: none;
    -webkit-user-drag: none;
}

.modal-close {
  position: fixed;
  top: 15px;
  right: 35px;
  color: #f1f1f1;
  font-size: 40px;
  font-weight: bold;
  cursor: pointer;
  z-index: 10001;
}

/* Hide other elements when modal is open */
body.modal-open {
  overflow: hidden;
  position: relative;
}

body.modal-open #backToTop,
body.modal-open header {
  display: none !important;
}
/* Update this to hide all sections except modal when it's open */
body.modal-open > *:not(.modal) {
  visibility: hidden !important;
}

body.modal-open .modal {
  visibility: visible !important;
}

#alurImage {
    cursor: zoom-in;
    transition: opacity 0.3s ease;
}

#alurImage:hover {
    opacity: 0.9;


  
/* Add these styles to your existing <style> section */
.title-section {
    position: relative;
    padding-bottom: 1rem;
}
}

/* CSS Lihat Tentang Program dan Lihat Panduan Program*/
.category-link, 
.panduan-link {
    font-family: 'Poppins', sans-serif;
    font-size: 1.125rem;
    font-weight: 500;
    color: #065F46;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    text-decoration: none;
}

.category-link:hover,
.panduan-link:hover {
    color: #111827;
    text-decoration: none;
}

/* Solid gray background for Kategori Program section */
#tentang {
    background: #F5F5F5;
    position: relative;
    z-index: 1;
    padding-bottom: 4rem;
}

/* Ensure white background for Alur Program section */
#Alur {
    background: #FFFFFF;
    position: relative;
    z-index: 0;
    padding-top: 2rem;
}

/* Remove gradient effect */
#tentang::after {
    display: none;
}

/* Dark Mode Kategori Program Section - Solid Background */
body.dark-mode #tentang {
    background: #1a1a1a !important;
    position: relative;
    z-index: 1;
    padding-bottom: 4rem;
}

/* Remove gradient effect in dark mode */
body.dark-mode #tentang::after {
    display: none !important;
}

/* Dark Mode Card styling untuk kategori cards */
body.dark-mode #tentang .card {
    background-color: #2d2d2d !important;
    border-color: #404040 !important;
    color: #ffffff !important;
}

body.dark-mode #tentang .card:hover {
    background-color: #333333 !important;
    border-color: #505050 !important;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3) !important;
}

body.dark-mode #tentang .card .p-4 {
    background-color: #2d2d2d !important;
}

/* Light Mode - Card Category Styling */
.card.p-0.overflow-hidden {
    padding: 0;
    box-shadow: none;
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.card.p-0.overflow-hidden .p-4 {
    padding: 1rem;
    background: white;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.card.p-0.overflow-hidden .category-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 0.5rem;
}

.card.p-0.overflow-hidden .category-desc {
    font-size: 0.9375rem;
    color: #6b7280;
    line-height: 1.6;
    margin: 0;
    flex: 1;
}

/* Dark Mode Desktop Dropdown Menu Links */
body.dark-mode #desktop-dropdown-menu a {
    color: #b0b0b0 !important;
    background-color: #2d2d2d !important;
    transition: all 0.2s ease;
}

body.dark-mode #desktop-dropdown-menu a:hover {
    background-color: #a9e66c !important;
    color: #000000 !important;
    font-weight: 600;
}

body.dark-mode #desktop-dropdown-menu {
    background-color: #2d2d2d !important;
    border: 1px solid #404040 !important;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
}

/* Dark Mode Mobile Dropdown Menu Links */
body.dark-mode #mobile-dropdown a p {
    color: #b0b0b0 !important;
}

body.dark-mode #mobile-dropdown a:hover p {
    background-color: #a9e66c !important;
    color: #000000 !important;
    font-weight: 600;
}

body.dark-mode .dropdown-content {
    background-color: #2d2d2d !important;
}

body.dark-mode .dropdown-content a p {
    color: #b0b0b0 !important;
}

body.dark-mode .submenu-items a p {
    color: #b0b0b0 !important;
}

/* Dark Mode - Card Category Styling (MATCHING LIGHT MODE) */
body.dark-mode .card.p-0.overflow-hidden {
    padding: 0;
    box-shadow: none;
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

body.dark-mode .card.p-0.overflow-hidden .p-4 {
    padding: 1rem;
    background: #1a1a1a;
    flex: 1;
    display: flex;
    flex-direction: column;
}

body.dark-mode #tentang .card.p-0.overflow-hidden .p-4 {
    background: #1a1a1a !important;
}

body.dark-mode .card.p-0.overflow-hidden .category-desc {
    background: #1a1a1a !important;
}

body.dark-mode .card.p-0.overflow-hidden .category-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 0.5rem;
}

body.dark-mode .card.p-0.overflow-hidden .category-desc {
    font-size: 0.9375rem;
    color: #b0b0b0;
    line-height: 1.6;
    margin: 0;
    flex: 1;
}

body.dark-mode .card.p-0.overflow-hidden:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
}

body.dark-mode #tentang .card.p-0.overflow-hidden .category-title {
    color: #ffffff !important;
    font-weight: 600 !important;
    margin-bottom: 0.5rem !important;
}

body.dark-mode #tentang .card.p-0.overflow-hidden .category-desc {
    color: #b0b0b0 !important;
    font-weight: 400 !important;
    font-size: 0.9375rem !important;
    line-height: 1.6 !important;
}


/* Dark Mode Card Title */
body.dark-mode #tentang .category-title {
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Dark Mode Card Description */
body.dark-mode #tentang .category-desc {
    color: #b0b0b0 !important;
    font-weight: 400 !important;
}

body.dark-mode #tentang .card p {
    color: #b0b0b0 !important;
}

body.dark-mode #tentang .card h3 {
    color: #ffffff !important;
}

body.dark-mode #tentang .h-64.bg-blue-50,
body.dark-mode #tentang .h-64.bg-amber-50,
body.dark-mode #tentang .h-64.bg-emerald-50 {
    background-color: #1a1a1a !important;
}

/* Dark Mode Section Title */
body.dark-mode #tentang h2 {
    color: #7FE7C9 !important;
}

/* CSS Variables */
:root.dark-mode {
    --bg: #1a1a1a;
    --ink: #ffffff;
    --muted: #b0b0b0;
    --primary-weak: #0f4c3a;
    --border: #404040;
}

/* Dark Mode Body */
body.dark-mode {
    background: var(--bg);
    color: var(--ink);
}

    /* Icon Toggle (Sun/Moon) */
    .sun-icon {
        display: inline-block;
    }

    .moon-icon {
        display: none;
    }

    body.dark-mode .sun-icon {
        display: none;
    }

    body.dark-mode .moon-icon {
        display: inline-block;
    }

    /* Dark Mode Header */
    body.dark-mode header {
        background-color: #2d2d2d;
        border-color: var(--border);
    }

    /* Dark Mode Navigation */
    body.dark-mode .nav-link {
        color: #b0b0b0 !important;
    }

    body.dark-mode .nav-link:hover {
        background-color: #a9e66c !important;
        color: #000000 !important;
    }

    /* Dark Mode Dropdown */
    body.dark-mode .dropdown-menu {
        background-color: #2d2d2d;
        border-color: var(--border);
    }

    body.dark-mode .dropdown-menu a {
        color: #b0b0b0;
    }

    body.dark-mode .dropdown-menu a:hover {
        background-color: #a9e66c !important;
        color: #000000 !important;
    }

    /* Dark Mode Main Content */
    body.dark-mode main {
        background-color: var(--bg);
        color: var(--ink);
    }

    /* Dark Mode Section backgrounds */
    body.dark-mode section {
        background-color: var(--bg) !important;
    }

    body.dark-mode #tentang {
    background: #2d2d2d !important;
    position: relative;
    z-index: 1;
    padding-bottom: 4rem;
    }

    body.dark-mode #Alur {
        background: #1a1a1a !important;
    }

    /* Dark Mode Card */
    body.dark-mode .card {
        background-color: #2d2d2d !important;
        border-color: #404040 !important;
        color: var(--ink);
    }

    body.dark-mode .card:hover {
        border-color: #505050 !important;
    }

    /* Dark Mode Button */
    body.dark-mode .btn.btn-primary {
        background-color: #a9e66c !important;
        color: #000000 !important;
        border: 2px solid #a9e66c !important;
    }

    body.dark-mode .btn.btn-primary:hover {
        background-color: #000000 !important;
        color: #ffffff !important;
        border: 2px solid #000000 !important;
    }

    /* Dark Mode Banner */
    body.dark-mode #banner-top {
        background-color: #2d2d2d;
        border-color: var(--border);
        color: #b0b0b0;
    }

    body.dark-mode #banner-top .animate-marquee {
        color: #b0b0b0;
    }

    /* Dark Mode Mobile Navigation */
    body.dark-mode .NavigationSlideOut {
        background-color: #1a1a1a;
    }

    body.dark-mode .NavigationTab a p {
        color: #b0b0b0;
    }

    body.dark-mode .NavigationTab:hover p {
        background-color: #a9e66c;
        color: #000000;
    }

    body.dark-mode .menuIcon {
        background: #a9e66c;
    }

    body.dark-mode .menuIcon div {
        background: #000000;
    }

    body.dark-mode .menuIcon:hover {
        background: #90d94f;
    }

    /* Dark Mode Footer */
    body.dark-mode footer {
    background-color: #2d2d2d !important;
    color: #ffffff !important;
    border-top: none !important;
}

    body.dark-mode footer h3 {
    color: #f08519 !important;
    font-weight: 600 !important;
}

body.dark-mode footer p {
    color: #b0b0b0 !important;
}

body.dark-mode footer address {
    color: #b0b0b0 !important;
}

body.dark-mode footer address p {
    color: #b0b0b0 !important;
}

body.dark-mode footer a {
    color: #b0b0b0 !important;
    transition: color 0.3s ease !important;
}

body.dark-mode footer a:hover {
    color: #f08519 !important;
    text-decoration: underline !important;
}

body.dark-mode footer .border-t {
    border-top-color: #f08519 !important;
}

body.dark-mode footer svg {
    stroke: #b0b0b0 !important;
    color: #b0b0b0 !important;
}

body.dark-mode footer a:hover svg {
    stroke: #f08519 !important;
    color: #f08519 !important;
}

/* Specific untuk copyright text */
body.dark-mode footer .text-center p {
    color: #b0b0b0 !important;
}

/* Specific untuk links di footer */
body.dark-mode footer ul li a {
    color: #b0b0b0 !important;
}

body.dark-mode footer ul li a:hover {
    color: #f08519 !important;
}

    /* Dark Mode Back to Top Button */
    body.dark-mode .back-to-top {
        background-color: #087959;
    }

    body.dark-mode .back-to-top:hover {
        background-color: #065F46;
    }

    /* Dark Mode Text Colors */
    body.dark-mode h1,
    body.dark-mode h2,
    body.dark-mode h3,
    body.dark-mode h4,
    body.dark-mode h5,
    body.dark-mode h6 {
        color: #ffffff;
    }

    body.dark-mode .section-title {
        color: #7FE7C9 !important;
    }

    body.dark-mode h2[style*="color: #065F46"] {
        color: #7FE7C9 !important;
    }

    body.dark-mode .text-\[#065F46\] {
        color: #7FE7C9 !important;
    }

    /* Specific untuk Montserrat font titles */
    body.dark-mode h2[style*="font-family: 'Montserrat'"] {
        color: #7FE7C9 !important;
    }

    /* Dark Mode Category Link & Panduan Link Hover */
body.dark-mode .category-link {
    color: #7FE7C9 !important;
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

body.dark-mode .category-link:hover {
    color: #ffffff !important;
    text-decoration: none !important;
}

body.dark-mode .panduan-link {
    color: #7FE7C9 !important;
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

body.dark-mode .panduan-link:hover {
    color: #ffffff !important;
    text-decoration: none !important;
}

/* Light Mode - pastikan juga sudah benar */
.category-link {
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

.category-link:hover {
    color: #111827 !important;
    text-decoration: none !important;
}

.panduan-link {
    text-decoration: none !important;
    transition: all 0.2s ease !important;
}

.panduan-link:hover {
    color: #111827 !important;
    text-decoration: none !important;
}

    /* Category title dan panduan link */
    body.dark-mode .category-title,
    body.dark-mode .panduan-link,
    body.dark-mode .category-link {
        color: #7FE7C9 !important;
    }

    /* FAQ Container title */
    body.dark-mode .faq-container h2 {
        color: #7FE7C9 !important;
    }

    /* Announcement container title */
    body.dark-mode .announcement-container h2 {
        color: #7FE7C9 !important;
    }

    /* Statistics title */
    body.dark-mode .statistics-card p:first-child {
        color: #7FE7C9 !important;
    }

    /* Map section title */
    body.dark-mode #peta h2 {
        color: #7FE7C9 !important;
    }

    /* Alur section title */
    body.dark-mode #Alur h2 {
        color: #7FE7C9 !important;
    }

    /* Tentang section title */
    body.dark-mode #tentang h2 {
        color: #7FE7C9 !important;
    }

        /* Dark Mode Statistics Cards */
    body.dark-mode .statistics-card {
        background-color: #2d2d2d !important;
        border-color: #404040 !important;
        color: #b0b0b0 !important;
    }

    body.dark-mode .statistics-card:hover {
        background-color: #333333 !important;
        border-color: #505050 !important;
    }

    body.dark-mode .statistics-card p:first-child {
        color: #7FE7C9 !important;
    }

    body.dark-mode .statistics-card p:last-child {
        color: #ffffff !important;
    }

    body.dark-mode .grid.grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4.gap-6 {
        background-color: transparent !important;
    }

    /* Dark Mode Chart Text Colors */
    body.dark-mode #statisticsChart {
        filter: brightness(0.9);
    }

    body.dark-mode canvas {
        filter: none;
    }

    /* Dark Mode Chart Text Styling */
    body.dark-mode .chartjs-render-monitor {
        color: #b0b0b0 !important;
    }

    /* Override Chart.js text colors in dark mode */
    body.dark-mode .chart-container {
        color: #b0b0b0 !important;
    }

    /* Chart title and labels */
    body.dark-mode [role="img"] {
        color: #b0b0b0 !important;
    }

/* Dark Mode FAQ Container Wrapper */
body.dark-mode .faq-container {
  background-color: #1a1a1a !important;
  border: none !important;
}

body.dark-mode .faq-accordion {
  background: #1a1a1a !important;
  padding: 0 !important;
}

body.dark-mode .faq-accordion details {
  background: #2d2d2d;
  margin-bottom: 1rem;
  border: 1px solid #404040;
  border-radius: 10px;
  padding: 0;
  display: block;
}

body.dark-mode .faq-accordion summary {
  border-radius: 10px;
  list-style: none;
  cursor: pointer;
  padding: 1rem;
  color: #b0b0b0;
  font-weight: 700;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;
  background: #2d2d2d;
  transition: color 0.3s ease;
  min-height: 56px;
}

body.dark-mode .faq-accordion summary:hover {
  color: #7FE7C9 !important;
  background: #333333 !important;
}

body.dark-mode .faq-accordion details[open] summary {
  background: #2d2d2d !important;
  color: #7FE7C9 !important;
}

body.dark-mode .faq-accordion .chev {
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  border: 1px solid #404040;
  border-radius: 999px;
  background: #2d2d2d;
  transition: all 0.3s ease;
}

body.dark-mode .faq-accordion .content {
  padding: 0 1rem 1rem;
  background: #2d2d2d;
  display: block;
  color: #b0b0b0;
}

body.dark-mode .faq-accordion .chev svg {
  width: 18px;
  height: 18px;
  fill: #ffffff;
  transition: fill 0.3s ease;
}

body.dark-mode .faq-accordion details[open] .chev {
  transform: rotate(180deg);
  border-color: #404040;
  background: #2d2d2d;
}

/* Dark Mode Announcement Container */
body.dark-mode .announcement-container {
  background-color: #2d2d2d !important;
  border-color: #2d2d2d !important;
}

body.dark-mode .announcement-container h2 {
  color: #7FE7C9 !important;
}

body.dark-mode .announcement-box {
  background-color: #1d1d1d !important;
  border-color: #1d1d1d !important;
}

body.dark-mode .announcement-box:hover {
  background-color: #333333 !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important;
}

body.dark-mode .announcement-content {
  background-color: #1d1d1d !important;
}

body.dark-mode .announcement-date {
  color: #9ca3af !important;
}

body.dark-mode .announcement-content h3 {
  color: #7FE7C9 !important;
}

body.dark-mode .announcement-text {
  color: #e5e7eb !important;
}

body.dark-mode .space-y-6.max-w-3xl.mx-auto {
  scrollbar-color: rgba(127, 231, 201, 0.3) transparent !important;
}

body.dark-mode .space-y-6.max-w-3xl.mx-auto::-webkit-scrollbar-thumb {
  background-color: rgba(127, 231, 201, 0.3) !important;
}




  </style>
</head>
<body class="min-h-screen">
    
<!-- Banner Atas (teks berjalan) -->
<div id="banner-top" class="w-full bg-gray-100 border-b border-gray-200 overflow-hidden">
  <div class="whitespace-nowrap animate-marquee py-2 text-gray-700 text-sm font-medium">
    ðŸŒ¿ Selamat datang di Program Berseri (Bersih & Lestari) â€“ DLH Provinsi Jawa Timur â€¢ 
    ðŸ“¢ Pendaftaran gelombang pertama telah dibuka â€¢ 
    ðŸŒ± Mari wujudkan desa bersih, sehat, dan lestari bersama!
  </div>
</div>

      <!-- Header -->
      <header class="bg-[#F1F1EF] border-b sticky top-0 z-[2000]" role="banner" style="border-color: var(--border)">
          <nav class="max-w-7xl mx-auto px-4 lg:px-6 py-4" role="navigation" aria-label="Navigasi utama">
              <div class="flex items-center gap-4">
                  <div class="flex-shrink-0 flex items-center gap-3">
                      <a href="index.html" class="flex items-center gap-3" aria-label="Berseri Beranda">
                          <!-- Logo Bulat Berseri Atas -->
                          <img src="Asset/logo-berseri.webp" alt="Logo Berseri" class="h-16">
                          <!-- Logo Kata Berseri Atas -->
                          <img src="Asset/Logo Kata Berseri.webp" alt="Logo DLH" class="h-14">
                      </a>
                  </div>

                  <!-- NAV Desktop -->
                  <ul class="hidden md:flex items-center gap-2 ml-auto">
                      <li><a href="index.html" class="nav-link text-[var(--muted)]">Beranda</a></li>
                      <li><a href="tentang.html" class="nav-link text-[var(--muted)]">Tentang</a></li>
                      
                        <li class="relative group">
                          <button id="desktop-dropdown-btn" class="nav-link text-[var(--muted)] flex items-center gap-1 whitespace-nowrap transition-all duration-200">
                            Data
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                          </button>
                          <div id="desktop-dropdown-menu" class="dropdown-menu absolute left-0 mt-1 w-48 bg-white border rounded-lg shadow-lg py-2 transform origin-top transition duration-200">
                              <a href="detail-berseri.html" class="block px-4 py-2 text-sm text-gray-700 transition-colors duration-200">Detail Berseri</a>
                              <a href="kabupaten-kota.html" class="block px-4 py-2 text-sm text-gray-700 transition-colors duration-200">Kabupaten/Kota</a>
                          </div>
                        </li>     
                  <li><a href="panduan.html" class="nav-link text-[var(--muted)]">Panduan</a></li>
    <li>
        <button id="theme-toggle" class="nav-link text-[var(--muted)] flex items-center gap-2 whitespace-nowrap" aria-label="Toggle dark mode" title="Toggle Dark Mode">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="moon-icon hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </li>
    <li><a href="login.html" class="btn btn-primary no-underline">Login</a></li>
</ul>

                  <!-- Mobile Navigation -->
                  <div class="md:hidden ml-auto flex items-center">
                    <button id="theme-toggle-mobile" class="nav-link text-[var(--muted)] flex items-center" aria-label="Toggle dark mode" title="Toggle Dark Mode">
                      <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="5"></circle>
                          <line x1="12" y1="1" x2="12" y2="3"></line>
                          <line x1="12" y1="21" x2="12" y2="23"></line>
                          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                          <line x1="1" y1="12" x2="3" y2="12"></line>
                          <line x1="21" y1="12" x2="23" y2="12"></line>
                          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                      </svg>
                      <svg class="moon-icon hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                      </svg>
                  </button>

                    <div class="NavigationSlideOut">
                      <ul class="navbar">
                        <li class="NavigationTab"><a href="index.html"><p>Beranda</p></a></li>
                        <li class="NavigationTab"><a href="tentang.html"><p>Tentang</p></a></li>
                        <li class="NavigationTab dropdown">
                          <a href="#" id="mobile-dropdown-btn">
                            <p>Data 
                              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                              </svg>
                            </p>
                          </a>
                          <div id="mobile-dropdown" class="dropdown-content">
                            <div class="submenu-items">
                              <a href="detail-berseri.html"><p>Detail Berseri</p></a>
                              <a href="kabupaten-kota.html"><p>Kabupaten/Kota</p></a>
                            </div>
                          </div>
                        </li>
                        <li class="NavigationTab"><a href="panduan.html"><p>Panduan</p></a></li>
                        <li class="NavigationTab"><a href="login.html"><p>Login</p></a></li>
                      </ul>
                  </div>
                    
                  <div class="menuIcon">
                      <div class="line_one"></div>
                      <div class="line_two"></div>
                      <div class="line_three"></div>
                  </div>
              </div>
          </div>
      </nav>
  </header>

    
  <!-- Tombol Back to Top -->
  <button class="back-to-top" id="backToTop" aria-label="Kembali ke atas halaman" title="Kembali ke atas">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M12 20V4M5 11l7-7l7 7" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <script>
    // Script untuk fungsi Back to Top
    const backToTopButton = document.getElementById('backToTop');
    
    // Fungsi untuk menampilkan/menyembunyikan tombol
    function toggleBackToTop() {
      if (window.scrollY > 300) { // Tombol muncul setelah scroll 300px
        backToTopButton.classList.add('show');
      } else {
        backToTopButton.classList.remove('show');
      }
    }

    // Fungsi untuk scroll ke atas dengan animasi smooth
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Event listener untuk scroll
    window.addEventListener('scroll', toggleBackToTop);
    
    // Event listener untuk klik tombol
    backToTopButton.addEventListener('click', scrollToTop);
  </script>

  <main id="main">
<!-- Hero dengan background image -->
<section class="relative bg-cover bg-center bg-no-repeat min-h-[520px] md:min-h-[680px]" style="background-image: url('Asset/IMG_7488.webp');">
  <!-- overlay gelap tipis supaya teks terbaca -->
 <div class="absolute inset-0 bg-black/40"></div>

<!-- Update the hero section content -->
  <div class="relative min-h-[520px] md:min-h-[680px] flex items-center">
    <div class="max-w-7xl mx-auto px-4 lg:px-6 w-full">
      <div class="grid md:grid-cols-1 gap-8">
        <div class="space-y-2">
          <h2 class="text-3xl md:text-5xl font-bold text-white leading-tight mb-2 hero-title animate-slide-in">
            Mari Wujudkan Desa/Kelurahan<br />
            <span class="md:text-5xl">
              <span>BERSERI:</span>
              <span class="text-[#a9e66c]">Bersih</span> dan <span class="text-[#f08519]">Lestari</span>
            </span>
          </h2>
        </div>
          <p class="max-w-xl text-gray-200 text-base leading-relaxed animate-slide-in delay-200" 
          style="font-family: 'Google Sans'; font-weight: 400; margin-bottom: 1rem;">
            Bergabunglah dalam program inovatif untuk menciptakan Desa/Kelurahan yang bersih, sehat, dan berkelanjutan. Wujudkan impian Desa/Kelurahan yang lestari bersama-sama.
        </p>
          <div class="flex flex-wrap gap-3 pt-2 animate-slide-in delay-400">
              <a href="form.html" class="btn btn-primary">Daftar Sekarang</a>
          </div>
        </div>
      </div>
    </div>
</section>


<!-- Statistik -->
<section class="py-8 bg-white">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">
    <div class="flex flex-col gap-3 mb-3">
      <h2 class="text-3xl" style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: #065F46;">
        STATISTIK PARTISIPASI
      </h2>
      <div class="w-24 h-1 bg-[#f08519]"></div>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <div class="statistics-card">
        <p class="text-sm">Kabupaten/Kota</p>
        <p><span class="counter" data-target="38">0</span></p>
      </div>
      <div class="statistics-card">
        <p class="text-sm">Desa/Kelurahan</p>
        <p><span class="counter" data-target="8501">0</span></p>
      </div>
      <div class="statistics-card">
        <p class="text-sm">Usulan</p> 
        <p><span class="counter" data-target="1553">0</span></p>
      </div>
      <div class="statistics-card">
        <p class="text-sm">Mendapat Penghargaan</p>
        <p><span class="counter" data-target="1306">0</span></p>
      </div>
    </div>
  </div>
</section>

    <!-- Grafik Statistik -->
    <section class="py-10 bg-white">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">
    <!-- Chart Container - hapus background putih -->
    <div class="rounded-lg">
      <!-- Canvas for Chart -->
      <canvas id="statisticsChart" height="400"></canvas>
    </div>
  </div>
</section>

    <!-- Peta -->
    <!-- Peta section dengan title dan garis oranye -->
    <section id="peta" class="py-10" style="background: #ffffff">
      <div class="max-w-7xl mx-auto px-4 lg:px-6">
        <div class="flex flex-col items-center gap-3 mb-3">
          <h2 class="text-3xl font-extrabold uppercase" style="color: #065F46; font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 1.875rem; letter-spacing: 0.05em;">
            SEBARAN DESA/KELURAHAN BERSERI
          </h2>
          <div class="w-24 h-1 bg-[#f08519]"></div>
        </div>
        
        <p class="text-[var(--muted)] mb-3 text-center text-lg" style="font-family: 'Poppins', sans-serif;">
          Lihat lokasi desa/kelurahan peserta Berseri. Gunakan tombol zoom pada peta untuk memperbesar atau memperkecil tampilan.
        </p>


        <!-- Buttons with reduced margin -->
        <div class="col-lg-12 text-center mb-4">  <!-- Changed from mb-8 to mb-4 -->
      <button type="button" class="btn btn-sm jenis-peta px-3 py-1 rounded-md bg-gray-200 hover:bg-blue-600 hover:text-white transition-colors duration-300 text-gray-700 text-sm border-0 min-h-0 font-normal kategori-btn" data-jenis="pratama" data-color="#1D4ED8">
        Pratama
      </button>
      <button type="button" class="btn btn-sm jenis-peta px-3 py-1 rounded-md bg-gray-200 hover:bg-yellow-500 hover:text-white transition-colors duration-300 text-gray-700 text-sm border-0 min-h-0 font-normal kategori-btn" data-jenis="madya" data-color=" #F59E0B">
        Madya
      </button>
      <button type="button" class="btn btn-sm jenis-peta px-3 py-1 rounded-md bg-gray-200 hover:bg-green-600 hover:text-white transition-colors duration-300 text-gray-700 text-sm border-0 min-h-0 font-normal kategori-btn" data-jenis="mandiri" data-color="#10B981">
        Mandiri
      </button>
    </div>

    <!-- Map container with adjusted spacing -->
    <div class="flex flex-col gap-4"> <!-- Changed from gap-6 to gap-4 -->
      <div id="map-wrapper" class="w-full">
        <div id="map-jatim" role="application" aria-label="Peta interaktif Jawa Timur" class="h-[420px] md:h-[600px]"></div>
        <p id="map-desc" class="sr-only">
              Peta Jawa Timur menampilkan lokasi peserta program Berseri. Gunakan tombol plus dan minus untuk mengatur perbesaran peta.
            </p>

            <noscript>
              <div class="card mt-3">Peta membutuhkan JavaScript. Aktifkan JavaScript untuk melihat peta interaktif.</div>
            </noscript>
            <div id="map-fallback" class="hidden card mt-3">Gagal memuat peta. Periksa koneksi internet Anda.</div>

            
          </div>
        </div>
      </div>
    </section>

    <!-- Komponen Nilai Berseri Section -->
    <section class="komponen-section">
      <div class="komponen-container">
        <div class="komponen-header">
          <h2 class="komponen-title">KOMPONEN NILAI BERSERI</h2>
          <div class="komponen-title-bar"></div>
        </div>
        
        <div class="komponen-content">
          <!-- Chart -->
          <div class="komponen-chart-wrapper">
            <div class="komponen-chart-container">
              <canvas id="komponenChart"></canvas>
            </div>
          </div>
          
          <!-- List Items -->
          <div class="komponen-list">
            <div class="komponen-item">
              <div class="komponen-icon kepemimpinan">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" class="w-6 h-6">
                  <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Kepemimpinan dalam Pengelolaan Lingkungan (10%)</p>
              </div>
            </div>
            
            <div class="komponen-item">
              <div class="komponen-icon kelembagaan">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" class="w-6 h-6">
                  <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Kelembagaan dan Partisipasi Masyarakat (20%)</p>
              </div>
            </div>
            
            <div class="komponen-item">
              <div class="komponen-icon sampah">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
                  <path d="M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6M18 6V16.2C18 17.8802 18 18.7202 17.673 19.362C17.3854 19.9265 16.9265 20.3854 16.362 20.673C15.7202 21 14.8802 21 13.2 21H10.8C9.11984 21 8.27976 21 7.63803 20.673C7.07354 20.3854 6.6146 19.9265 6.32698 19.362C6 18.7202 6 17.8802 6 16.2V6M14 10V17M10 10V17"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Pengelolaan Sampah (40%)</p>
              </div>
            </div>
            
            <div class="komponen-item">
              <div class="komponen-icon ruang-hijau">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="white" class="w-6 h-6">
                  <path d="M461.75,447.5l-83.703-125.344h46.75l-84.141-126.047h46.281L256,0L125.047,196.109h46.281L87.188,322.156   h46.75L50.25,447.5h189.625V512h8.063h16.125h8.063v-64.5H461.75z M176.047,299.938h-46.734l84.125-126.016h-46.281L256,40.875   l88.828,133.047h-46.297l84.156,126.016h-46.75l83.703,125.359H264.063v-37.391l63.047-72.031l-12.141-10.625l-50.906,58.188   v-59.406l50.844-58.109l-12.141-10.609l-38.703,44.234V171.469h-16.125v108.063l-38.703-44.219l-12.141,10.609l50.844,58.109   v59.391l-50.906-58.172l-12.125,10.625l63.031,72.031v37.391H92.359L176.047,299.938z"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Pengelolaan Ruang Terbuka Hijau (10%)</p>
              </div>
            </div>
            
            <div class="komponen-item">
              <div class="komponen-icon energi">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" class="w-6 h-6">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.29298 3.29289C2.90246 3.68342 2.90246 4.31658 3.29298 4.70711L4.29298 5.70711C4.68351 6.09763 5.31667 6.09763 5.7072 5.70711C6.09772 5.31658 6.09772 4.68342 5.7072 4.29289L4.7072 3.29289C4.31667 2.90237 3.68351 2.90237 3.29298 3.29289ZM19.293 3.29289C19.6835 2.90237 20.3167 2.90237 20.7072 3.29289C21.0977 3.68342 21.0977 4.31658 20.7072 4.70711L19.7072 5.70711C19.3167 6.09763 18.6835 6.09763 18.293 5.70711C17.9025 5.31658 17.9025 4.68342 18.293 4.29289L19.293 3.29289ZM19.7072 14.2929L20.7072 15.2929C21.0977 15.6834 21.0977 16.3166 20.7072 16.7071C20.3167 17.0976 19.6835 17.0976 19.293 16.7071L18.293 15.7071C17.9025 15.3166 17.9025 14.6834 18.293 14.2929C18.6835 13.9024 19.3167 13.9024 19.7072 14.2929ZM3.29298 16.7071C2.90246 16.3166 2.90246 15.6834 3.29298 15.2929L4.29298 14.2929C4.68351 13.9024 5.31667 13.9024 5.7072 14.2929C6.09772 14.6834 6.09772 15.3166 5.7072 15.7071L4.7072 16.7071C4.31667 17.0976 3.68351 17.0976 3.29298 16.7071ZM20.4142 11C20.9665 11.0001 21.4142 10.5524 21.4142 10.0001C21.4143 9.44781 20.9666 9.00007 20.4143 9.00003L20.0001 9C19.4478 8.99996 19.0001 9.44765 19 9.99993C19 10.5522 19.4477 11 20 11L20.4142 11ZM2 10.2072C2.00004 10.7595 2.44779 11.2072 3.00007 11.2071L3.41428 11.2071C3.96657 11.2071 4.41425 10.7593 4.41421 10.207C4.41417 9.65474 3.96643 9.20705 3.41414 9.20709L2.99993 9.20712C2.44765 9.20716 1.99996 9.65491 2 10.2072ZM15.4366 14.9189C16.9865 13.8341 18 12.0354 18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C6 12.0354 7.0135 13.8341 8.56337 14.9189C8.21123 15.3497 8 15.9002 8 16.5C8 17.7099 8.85949 18.7191 10.0012 18.9502C10.0004 18.9667 10 18.9833 10 19C10 19.5523 10.4477 20 11 20H13C13.5523 20 14 19.5523 14 19C14 18.9833 13.9996 18.9667 13.9988 18.9502C15.1405 18.7191 16 17.7099 16 16.5C16 15.9002 15.7888 15.3497 15.4366 14.9189ZM12 14C14.2091 14 16 12.2091 16 10C16 7.79086 14.2091 6 12 6C9.79086 6 8 7.79086 8 10C8 12.2091 9.79086 14 12 14ZM12 16H11.9146H10.5C10.2239 16 10 16.2239 10 16.5C10 16.7761 10.2239 17 10.5 17H11.9146H12.0854H13.5C13.7761 17 14 16.7761 14 16.5C14 16.2239 13.7761 16 13.5 16H12.0854H12Z"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Konservasi Energi (10%)</p>
              </div>
            </div>
            
            <div class="komponen-item">
              <div class="komponen-icon air">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
                  <path d="M16.0001 13.3848C16.0001 14.6088 15.526 15.7828 14.6821 16.6483C14.203 17.1397 13.6269 17.5091 13 17.7364M19 13.6923C19 7.11538 12 2 12 2C12 2 5 7.11538 5 13.6923C5 15.6304 5.7375 17.4893 7.05025 18.8598C8.36301 20.2302 10.1436 20.9994 12.0001 20.9994C13.8566 20.9994 15.637 20.2298 16.9497 18.8594C18.2625 17.4889 19 15.6304 19 13.6923Z"/>
                </svg>
              </div>
              <div class="komponen-text">
                <p class="komponen-text-label">Konservasi Air (10%)</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Card Kategori Program -->    
    <section id="tentang" class="py-10 bg-[#F5F5F5]">
    <div class="max-w-7xl mx-auto px-4 lg:px-6 space-y-6">
        <!-- Header -->
        <div class="flex justify-between items-center mb-6">
          <div class="flex flex-col gap-3">
              <h2 class="text-3xl" style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: #065F46;">
                  <span>KATEGORI PROGRAM</span>
              </h2>
        <div class="w-24 h-1 bg-[#f08519]"></div>
          </div>
            <a href="tentang.html" 
              class="category-link">
                Lihat Tentang Program
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </a>
        </div>
            <!-- Scrollable container for cards -->
            <div class="relative overflow-hidden">
                <!-- Scroll container -->
                <div class="flex gap-6 overflow-x-auto snap-x snap-mandatory scrollbar-hide sm:grid sm:grid-cols-3 sm:mx-0 sm:px-0">
                    <!-- Pratama -->
                    <div class="card p-0 overflow-hidden flex-shrink-0 w-full sm:w-auto snap-center border-2 border-gray-200 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                        <div class="relative">
                            <div class="h-64 bg-blue-50 overflow-hidden">
                                <img src="Asset/pratama-logo.webp"
                                alt="Ilustrasi Desa Pratama"
                                class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                      <h3 class="text-xl font-semibold text-gray-900 mb-2 category-title">Pratama</h3>
                      <p class="text-gray-500 text-sm category-desc">Desa/Kelurahan yang telah melakukan upaya pengelolaan lingkungan di 2 (dua) RW dengan masing-masing RW diwakili 2 (dua) RT.</p>
                    </div>
                </div>

                <!-- Madya -->
                    <div class="card p-0 overflow-hidden flex-shrink-0 w-full sm:w-auto snap-center border-2 border-gray-200 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                        <div class="relative">
                            <div class="h-64 bg-amber-50 overflow-hidden">
                                <img src="Asset/madya-logo.webp"
                                alt="Ilustrasi Desa Madya"
                                class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                      <h3 class="text-xl font-semibold text-gray-900 mb-2 category-title">Madya</h3>
                      <p class="text-gray-500 text-sm category-desc">Desa/Kelurahan yang telah melakukan upaya pengelolaan lingkungan di 2 (dua) RW dengan masing-masing RW diwakili 2 (dua) RT pada kategori Pratama ditambah 1 (satu) RW baru dengan diwakili 2 (dua) RT.</p>
                    </div>
                </div>

                <!-- Mandiri -->
                    <div class="card p-0 overflow-hidden flex-shrink-0 w-full sm:w-auto snap-center border-2 border-gray-200 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                        <div class="relative">
                            <div class="h-64 bg-emerald-50 overflow-hidden">
                                <img src="Asset/mandiri-logo.webp"
                                alt="Ilustrasi Desa Mandiri"
                                class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="p-4">
                      <h3 class="text-xl font-semibold text-gray-900 mb-2 category-title">Mandiri</h3>
                      <p class="text-gray-500 text-sm category-desc">Desa/Kelurahan yang telah melakukan upaya pengelolaan lingkungan di 3 (dua) RW dengan masing-masing RW diwakili 2 (dua) RT pada kategori Madya ditambah 1 (satu) RT baru pada masing-masing RW dan 1 RW baru dengan diwakili 3 (tiga) RT.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>


    <!-- Panduan -->
    <section id="Alur" class="py-10 bg-[#ffffff] text-black">
      <div class="max-w-7xl mx-auto px-4 lg:px-6">
        <!-- Update header dengan style yang sama seperti Kategori Program -->
    <div class="flex justify-between items-center mb-6">
      <div class="flex flex-col gap-3">
        <h2 class="text-3xl" style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: #065F46;">
          <span>ALUR PROGRAM BERSERI</span>
        </h2>
        <div class="w-24 h-1 bg-[#f08519]"></div>
      </div>
      <a href="panduan.html" 
        class="panduan-link">
          Lihat Panduan Program
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
      </a>
    </div>
    
    <!-- Container untuk gambar -->
    <div class="relative w-full max-w-[1920px] mx-auto aspect-[16/9] overflow-hidden rounded-lg">
      <img 
        id="alurImage"
        src="Asset/tahapan.webp" 
        alt="Panduan Program BERSERI" 
        class="w-full h-full object-cover"
        style="max-height: 1080px;"
        onclick="openModal()"
      >
    </div>

    <!-- Modal -->
    <div id="imageModal" class="modal">
      <span class="modal-close" onclick="closeModal()">&times;</span>
      <div class="modal-container" onclick="handleModalClick(event)">
        <div class="modal-image-wrapper">
          <img class="modal-content" id="modalImage" src="Asset/tahapan.webp" alt="Panduan Program BERSERI">
        </div>
      </div>
    </div>
  </div>

  <script>
    let isZoomed = false;
    let scale = 1;
    let isDragging = false;
    let startX, startY, translateX = 0, translateY = 0;
    const modalImage = document.getElementById('modalImage');
    const modalContainer = document.querySelector('.modal-container');
    let lastClickTime = 0;
    let zoomPoint = { x: 0, y: 0 };
    
    function openModal() {
      document.getElementById("imageModal").style.display = "block";
      document.body.classList.add('modal-open');
      // Force other elements to be hidden
      document.querySelectorAll('body > *:not(.modal)').forEach(el => {
        el.style.visibility = 'hidden';
      });
    }

    function closeModal() {
      document.getElementById("imageModal").style.display = "none";
      document.body.classList.remove('modal-open');
      // Restore visibility of other elements
      document.querySelectorAll('body > *:not(.modal)').forEach(el => {
        el.style.visibility = 'visible';
      });
    }
    function resetZoom() {
      isZoomed = 0; // 0 = normal, 1 = 2x zoom, 2 = 3x zoom
      scale = 1;
      translateX = 0;
      translateY = 0;
      modalImage.style.transform = `translate(0px, 0px) scale(${scale})`;
      modalImage.style.cursor = 'zoom-in';
      modalImage.style.transformOrigin = 'center center';
    }

    function handleDoubleClick(event) {
      if (isDragging) return;
      
      const currentTime = new Date().getTime();
      const timeDiff = currentTime - lastClickTime;
      
      // Check if it's a double click (time difference less than 300ms)
      if (timeDiff < 300) {
        event.preventDefault();
        event.stopPropagation();
        
        // Calculate click position relative to image
        const rect = modalImage.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        
        // Store zoom point as percentages
        zoomPoint.x = (x / rect.width) * 100;
        zoomPoint.y = (y / rect.height) * 100;
        
        toggleZoom(event);
      }
      
      lastClickTime = currentTime;
    }

    function toggleZoom(event) {
      if (isDragging) return;



      event.stopPropagation();
      
      // Set transform origin to click point
      modalImage.style.transformOrigin = `${zoomPoint.x}% ${zoomPoint.y}%`;

      if (isZoomed === 0) { // Normal -> 2x zoom
        scale = 2;
        isZoomed = 1;
        modalImage.style.cursor = 'grab';
      } else if (isZoomed === 1) { // 2x -> 3x zoom
        scale = 3;
        isZoomed = 2;
        modalImage.style.cursor = 'grab';
      } else { // 3x -> Normal
        scale = 1;
        isZoomed = 0;
        modalImage.style.cursor = 'zoom-in';
        translateX = 0;
        translateY = 0;
        // Reset transform origin when returning to normal
        modalImage.style.transformOrigin = 'center center';
      }
      updateImageTransform();
    }

    function handleModalClick(event) {

      if (event.target.classList.contains('modal-container')) {
        closeModal();
      }
    }

    function startDragging(e) {
      if (isZoomed === 0) return;
      
      // Prevent drag start if it's a double click
      const currentTime = new Date().getTime();
      if (currentTime - lastClickTime < 300) return;
      
      isDragging = true;
      modalImage.style.cursor = 'grabbing';
      startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
      startY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;
    }

    function stopDragging() {
      if (!isDragging) return;
      isDragging = false;
      if (isZoomed > 0) {
        modalImage.style.cursor = 'grab';
     
      } else {
        modalImage.style.cursor = 'zoom-in';
      }
    }

    function drag(e) {
      if (!isDragging || isZoomed === 0) return;

      e.preventDefault();
      const x = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
      const y = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;

      const deltaX = x - startX;
      const deltaY = y - startY;

      // Make movement smoother and more responsive
      const movementFactor = isZoomed === 1 ? 1.2 : 1.5;
      translateX += deltaX * movementFactor;
      translateY += deltaY * movementFactor;

      // Calculate bounds based on image and container size
      const rect = modalImage.getBoundingClientRect();
      const containerRect = modalContainer.getBoundingClientRect();
      
      // Allow dragging beyond image edges with more generous limits
      const maxTranslateX = rect.width * (scale - 1);
      const maxTranslateY = rect.height * (scale - 1);
      
      // More generous bounds for dragging
      translateX = Math.max(-maxTranslateX, Math.min(maxTranslateX, translateX));
      translateY = Math.max(-maxTranslateY, Math.min(maxTranslateY, translateY));

      startX = x;
      startY = y;

      updateImageTransform();
    }

    function updateImageTransform() {
      modalImage.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
    }

    // Event listeners for mouse
    modalImage.addEventListener('click', handleDoubleClick);
    modalImage.addEventListener('mousedown', startDragging);
    modalContainer.addEventListener('mousemove', drag);
    modalContainer.addEventListener('mouseup', stopDragging);
    modalContainer.addEventListener('mouseleave', stopDragging);

    // Event listeners for touch
    modalImage.addEventListener('touchstart', startDragging);
    modalContainer.addEventListener('touchmove', drag);
    modalContainer.addEventListener('touchend', stopDragging);
    
    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === "Escape") {
        closeModal();
      }
    });
  </script>
    </section>

    <!-- Pengumuman dan FAQ Section -->
      <section class="py-10"> 
        <div class="max-w-7xl mx-auto px-4 lg:px-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 h-full">
            <!-- Pengumuman Column -->
            <div>
              <div class="announcement-container">
                <div class="flex items-center gap-3 mb-6">
                  <div class="flex flex-col gap-3">
                    <h2 class="text-3xl font-extrabold text-[#065F46]" style="font-family: 'Montserrat', sans-serif; font-weight: 800;">
                      PENGUMUMAN
                    </h2>
                    <div class="w-24 h-1 bg-[#f08519]"></div>
                  </div>
                </div>

                <!-- Pengumuman Content -->
                <div id="announcements-container" class="space-y-6 w-full overflow-y-auto" style="max-height: 600px; padding-right: 10px;">
                  <!-- Announcements will be loaded dynamically here -->
                </div>
              </div>
            </div>

            <!-- FAQ Column -->
            <div class="faq-container">
              <!-- Centered title -->
                <div class="flex flex-col items-center gap-3 mb-4 text-center">
                  <h2 class="text-2xl font-extrabold text-[#065F46]" style="font-family: 'Montserrat', sans-serif; font-weight: 800;">
                    PERTANYAAN YANG SERING DIAJUKAN
                  </h2>
                <div class="w-24 h-1 bg-[#f08519]"></div>
            </div>

            <!-- FAQ Accordion -->
              <div class="faq-accordion space-y-3">
                <details>
                    <summary>
                        <span>Apa itu Desa/Kelurahan Berseri?</span>
                        <span class="chev" aria-hidden="true">
                          <svg viewBox="0 0 448 512">
                                <path d="M207.03 381.48L12.69 187.13c-9.37-9.37-9.37-24.57 0-33.94l22.67-22.67c9.36-9.36 24.52-9.38 33.9-.04L224 284.5l154.75-154.02c9.38-9.34 24.54-9.32 33.9.04l22.67 22.67c9.37 9.37 9.37 24.57 0 33.94L240.97 381.48c-9.37 9.37-24.57 9.37-33.94 0z"/>
                          </svg>
                        </span>
                    </summary>
                    <div class="content">
                      Desa/Kelurahan Berseri adalah program inovasi Pemerintah Provinsi Jawa Timur, yang dikelola oleh Dinas Lingkungan Hidup Provinsi Jawa Timur, dalam rangka meningkatkan keterlibatan masyarakat dan pemangku kepentingan lain dalam pengelolaan lingkungan hidup agar desa dan kelurahan menjadi bersih, hijau, dan lestari, serta memberikan pengakuan atas upaya pengelolaan lingkungan yang telah dilakukan.
                    </div>
                </details>

                <details>
                    <summary>
                        <span>Apa tujuan utama program Berseri?</span>
                        <span class="chev" aria-hidden="true">
                            <svg viewBox="0 0 448 512">
                                <path d="M207.03 381.48L12.69 187.13c-9.37-9.37-9.37-24.57 0-33.94l22.67-22.67c9.36-9.36 24.52-9.38 33.9-.04L224 284.5l154.75-154.02c9.38-9.34 24.54-9.32 33.9.04l22.67 22.67c9.37 9.37 9.37 24.57 0 33.94L240.97 381.48c-9.37 9.37-24.57 9.37-33.94 0z"/>
                            </svg>
                        </span>
                    </summary>
                    <div class="content">
                      Program Berseri bertujuan meningkatkan kesadaran masyarakat, mengurangi sampah melalui 3R, mendorong terbentuknya bank sampah, memanfaatkan potensi lokal desa secara ramah lingkungan, dan mendukung Jawa Timur menuju Provinsi Hijau.
                    </div>
                </details>

                <details>
                    <summary>
                        <span>Apa dasar hukum pelaksanaan Program Desa/Kelurahan Berseri?</span>
                        <span class="chev" aria-hidden="true">
                            <svg viewBox="0 0 448 512">
                                <path d="M207.03 381.48L12.69 187.13c-9.37-9.37-9.37-24.57 0-33.94l22.67-22.67c9.36-9.36 24.52-9.38 33.9-.04L224 284.5l154.75-154.02c9.38-9.34 24.54-9.32 33.9.04l22.67 22.67c9.37 9.37 9.37 24.57 0 33.94L240.97 381.48c-9.37 9.37-24.57 9.37-33.94 0z"/>
                            </svg>
                        </span>
                    </summary>
                    <div class="content">
                      Dasar pelaksanaan program Desa/Kelurahan Berseri didukung oleh Peraturan Gubernur Jawa Timur Nomor 56 Tahun 2023 tentang Pedoman Penilaian Desa/Kelurahan Bersih dan Lestari.
                    </div>
                </details>
    
                <details>
                    <summary>
                        <span>Apa saja kategori dalam program Berseri?</span>
                        <span class="chev" aria-hidden="true">
                            <svg viewBox="0 0 448 512">
                                <path d="M207.03 381.48L12.69 187.13c-9.37-9.37-9.37-24.57 0-33.94l22.67-22.67c9.36-9.36 24.52-9.38 33.9-.04L224 284.5l154.75-154.02c9.38-9.34 24.54-9.32 33.9.04l22.67 22.67c9.37 9.37 9.37 24.57 0 33.94L240.97 381.48c-9.37 9.37-24.57 9.37-33.94 0z"/>
                            </svg>
                        </span>
                    </summary>
                    <div class="content">
                      Kategori Berseri terdiri dari Pratama, Madya, dan Mandiri yang menunjukkan tingkat kemajuan desa atau kelurahan dalam pengelolaan lingkungan.
                    </div>
                </details>

                <details>
                    <summary>
                        <span>Bagaimana jika desa/kelurahan memiliki kurang dari 3 RW, apakah tetap bisa mengusulkan kategori Madya dan Mandiri?</span>
                        <span class="chev" aria-hidden="true">
                        <svg viewBox="0 0 448 512">
                            <path d="M207.03 381.48L12.69 187.13c-9.37-9.37-9.37-24.57 0-33.94l22.67-22.67c9.36-9.36 24.52-9.38 33.9-.04L224 284.5l154.75-154.02c9.38-9.34 24.54-9.32 33.9.04l22.67 22.67c9.37 9.37 9.37 24.57 0 33.94L240.97 381.48c-9.37 9.37-24.57 9.37-33.94 0z"/>
                        </svg>
                        </span>
                    </summary>
                    <div class="content">
                    Bisa, karena Calon Desa/Kelurahan Berseri kategori Madya yang memiliki kurang dari tiga (3) RW akan diwakili oleh 50% dari total RT yang ada, sedangkan Calon Desa/Kelurahan Berseri kategori Mandiri yang memiliki kurang dari empat (4) RW akan diwakili oleh seluruh RT.
                </div>
                </details>
            </div>
          </div>
        </div>
      </div>
    <button id="backToTopBtn" class="square">â†‘</button>
  </section>
  </main>

<!-- Footer -->
    <footer class="bg-[#F1F1EF] text-black py-12">
        <div class="max-w-7xl mx-auto px-4 lg:px-6">
        <!-- Update footer grid layout -->
            <div class="grid gap-8 md:grid-cols-5"> <!-- Changed to 5 columns for better distribution -->
                <!-- Contact Info - spans 2 columns -->
                <div class="md:col-span-2">
                    <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Hubungi Kami</h3>
                        <address class="not-italic space-y-3">
                            <div class="flex items-start gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mt-1 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                <p class="text-sm max-w-xs" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">Jl. Wisata Menanggal No.38, Dukuh Menanggal, Kec. Gayungan, Surabaya, Jawa Timur 60234</p>
                            </div>
                        <div class="flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">(031) 8290186</p>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                        </svg>
                                        <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">dlh@jatimprov.go.id</p>
                                    </div>
                                </address>
                        </div>

                        <!-- Links - spans 1 column -->
                        <div class="md:col-span-1">
                            <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Tautan</h3>
                            <ul class="space-y-2">
                            <li><a href="index.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Beranda</a></li>
                            <li><a href="tentang.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Tentang BERSERI</a></li>
                            <li><a href="panduan.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Panduan</a></li>
                            </ul>
                        </div>

                        <!-- Social Media - spans 1 column -->
                        <div class="md:col-span-1">
                            <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Media Sosial</h3>
                            <div class="flex items-center gap-2">
                            <a href="https://facebook.com/BerseriJatim" target="_blank" rel="noopener noreferrer"
                                class="flex items-center gap-2 text-[#3C3C3C] hover:text-[#F08519] transition-colors duration-300">
                                <svg class="h-5 w-5" fill="#3C3C3C" viewBox="0 0 24 24">
                                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/>
                                </svg>
                                <span class="text-sm font-poppins transition-colors duration-300">BerseriJatim</span>
                            </a>
                            </div>
                        </div>

                        
                    </div>
                    <div class="text-center pt-8 mt-8 border-t-2 border-[#f08519]">
                    <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">@<span id="year">2023</span> BERSERI - Dinas Lingkungan Hidup Provinsi Jawa Timur</p>
                    </div>
                </footer>
      

  <script src="js/mobile-nav.js" defer></script>
  <script src="js/main.js" defer></script>
  <script src="js/card-slider.js" defer></script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile Navigation functionality
    $(document).ready(function () {
      $('.menuIcon').click(function (e) {
        e.stopPropagation();
        if ($('.NavigationSlideOut').css("right") == "-300px") {
          $('.NavigationSlideOut').css("right", "0px");
        } else {
          $('.NavigationSlideOut').css("right", "-300px");
        }
        $(this).toggleClass("on");
      });

      // Mobile Dropdown
      $('#mobile-dropdown-btn').click(function(e) {
          e.preventDefault();
          e.stopPropagation();
          const dropdownContent = $('#mobile-dropdown');
          const parentDropdown = $(this).closest('.dropdown');
          
          parentDropdown.toggleClass('active');
          dropdownContent.toggleClass('show');
      });

      // Close menu when clicking outside
      $(document).click(function(e) {
        if(!$(e.target).closest('.NavigationSlideOut, .menuIcon').length) {
          if($('.NavigationSlideOut').css('right') == '0px') {
           
            $('.NavigationSlideOut').animate({right: '-300px'}, 350);
            $('.menuIcon').removeClass("on");
          }
        }
      });

      // Prevent menu closing when clicking inside
      $('.NavigationSlideOut').click(function(e) {
        e.stopPropagation();
      });
    });
  </script>
  
  <script>
  // Chart initialization from bar-chart-berseri.json
  let statisticsChart = null;
  
  document.addEventListener('DOMContentLoaded', async function() {
    loadAndRenderChart();
  });
  
  /**
   * Load chart data dan render
   */
  async function loadAndRenderChart() {
    try {
      // First, try to load from localStorage (admin saved data)
      let chartData;
      const savedData = localStorage.getItem('berseri_admin_chart_data');
      
      if (savedData) {
        // Use admin-saved data from localStorage
        chartData = JSON.parse(savedData);
        console.log('Using data from localStorage (admin saved)');
      } else {
        // Fetch data from JSON file
        const response = await fetch('json/bar-chart-berseri.json');
        chartData = await response.json();
        console.log('Using data from JSON file');
      }
      
      renderChart(chartData);
    } catch (error) {
      console.error('Error loading chart data:', error);
    }
  }
  
  /**
   * Render chart dengan data
   */
  function renderChart(chartData) {
    // Destroy existing chart jika ada
    if (statisticsChart) {
      statisticsChart.destroy();
    }
    
    const ctx = document.getElementById('statisticsChart').getContext('2d');
    
    // Transform datasets to include border properties
    const transformedDatasets = chartData.datasets.map(dataset => ({
      ...dataset,
      borderColor: dataset.borderColor || dataset.backgroundColor,
      borderWidth: 1,
      borderRadius: 4
    }));
    
    statisticsChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: chartData.labels,
        datasets: transformedDatasets
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          datalabels: {
            display: false
          },
          title: {
            display: true,
            text: chartData.chartTitle || 'Penghargaan Jumlah Desa/Kelurahan Berseri',
            font: {
              size: 16,
              weight: 'bold'
            },
            padding: 20
          },
          legend: {
            position: 'bottom',
            labels: {
              padding: 20
            }
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: 'TAHUN',
              padding: {
                top: 10,
                bottom: -10
              },
              font: {
                size: 12
              }
            },
            ticks: {
              callback: function(val) {
                const label = this.getLabelForValue(val);
                if (label.includes('2020')) {
                  return ['2020', 'Covid'];
                }
                return label;
              }
            }
          },
          y: {
            beginAtZero: true,
            max: 120,
            ticks: {
              stepSize: 20
            },
            title: {
              display: true,
              text: 'Jumlah Desa/Kelurahan'
            }
          }
        }
      },
      plugins: [ChartDataLabels]
    });
  }
  
  // Listen for chart data updates from localStorage (admin panel atau tab lain)
  window.addEventListener('storage', function(e) {
    if (e.key === 'berseri_admin_chart_data' && e.newValue) {
      console.log('Chart data updated from admin panel, reloading chart...');
      try {
        const chartData = JSON.parse(e.newValue);
        renderChart(chartData);
      } catch (error) {
        console.error('Error parsing updated chart data:', error);
      }
    }
  });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

  <!-- Load announcements from admin panel -->
  <script src="js/announcement-manager.js"></script>
  <script>
     //Load and render announcements in beranda pengumuman section
     
    function loadAnnouncementsInBeranda() {
      const container = document.getElementById('announcements-container');
      if (!container) return;

      // Get announcements from 'beranda' target
      let announcements = [];
      try {
        if (typeof announcementManager !== 'undefined') {
          announcements = announcementManager.getVisibleAnnouncements('beranda');
        }
      } catch (e) {
        console.log('Error loading announcements:', e);
      }

      // Render announcements
      if (announcements.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:#9CA3AF; padding:24px;">Belum ada pengumuman</p>';
        return;
      }

      container.innerHTML = announcements.map(ann => {
        const imgSrc = ann.imageUrl || 'Asset/placeholder-image.webp';
        return `
        <div class="announcement-box">
          <div class="announcement-image-container">
            <img src="${imgSrc}" alt="Announcement Image" class="announcement-image">
          </div>
          <div class="announcement-content">
            <h3 style="margin:0 0 8px 0; color:#1F2937; font-weight:700; font-size:16px;">${ann.title}</h3>
            <p class="announcement-text">${ann.description}</p>
            <span class="announcement-date">${ann.date}</span>
          </div>
        </div>
      `;
      }).join('');
    }

    // Load announcements when DOM is ready
    document.addEventListener('DOMContentLoaded', loadAnnouncementsInBeranda);

    // Listen for announcement updates from admin panel
    window.addEventListener('announcementsUpdated', function(event) {
      loadAnnouncementsInBeranda();
    });
  </script>

  <script>
    // Dark Mode Manager Script
    // Dark Mode Manager Class
    class DarkModeManager {
        constructor() {
            this.storageKey = 'beranda-darkmode';
            this.init();
        }

        init() {
            const savedMode = localStorage.getItem(this.storageKey);
            
            if (savedMode === 'enabled') {
                this.enableDarkMode();
            }
            
            this.setupToggleButtons();
        }

        setupToggleButtons() {
            setTimeout(() => {
                const toggleBtnDesktop = document.getElementById('theme-toggle');
                const toggleBtnMobile = document.getElementById('theme-toggle-mobile');

                if (toggleBtnDesktop) {
                    toggleBtnDesktop.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.toggle();
                    });
                }

                if (toggleBtnMobile) {
                    toggleBtnMobile.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        this.toggle();
                    });
                }
            }, 200);
        }

        enableDarkMode() {
            document.documentElement.classList.add('dark-mode');
            document.body.classList.add('dark-mode');
            localStorage.setItem(this.storageKey, 'enabled');
            this.updateIcons();
        }

        disableDarkMode() {
            document.documentElement.classList.remove('dark-mode');
            document.body.classList.remove('dark-mode');
            localStorage.setItem(this.storageKey, 'disabled');
            this.updateIcons();
        }

        toggle() {
            if (document.body.classList.contains('dark-mode')) {
                this.disableDarkMode();
            } else {
                this.enableDarkMode();
            }
        }

        updateIcons() {
            const isDark = document.body.classList.contains('dark-mode');
            
            const sunDesktop = document.querySelector('#theme-toggle .sun-icon');
            const moonDesktop = document.querySelector('#theme-toggle .moon-icon');
            
            if (sunDesktop) sunDesktop.style.display = isDark ? 'none' : 'inline-block';
            if (moonDesktop) moonDesktop.style.display = isDark ? 'inline-block' : 'none';

            const sunMobile = document.querySelector('#theme-toggle-mobile .sun-icon');
            const moonMobile = document.querySelector('#theme-toggle-mobile .moon-icon');
            
            if (sunMobile) sunMobile.style.display = isDark ? 'none' : 'inline-block';
            if (moonMobile) moonMobile.style.display = isDark ? 'inline-block' : 'none';
        }
    }

    // Initialize Dark Mode Manager
    let darkModeManager;

    document.addEventListener('DOMContentLoaded', function() {
        darkModeManager = new DarkModeManager();
    });
  </script>
  <script>
    // Enhanced Dark Mode Chart Handler
    document.addEventListener('DOMContentLoaded', function() {
        const chartCanvas = document.getElementById('statisticsChart');
        if (!chartCanvas) return;

        function applyChartDarkMode() {
            if (document.body.classList.contains('dark-mode')) {
                chartCanvas.style.filter = 'invert(0.93) hue-rotate(180deg)';
            } else {
                chartCanvas.style.filter = 'none';
            }
        }

        // Apply on load
        setTimeout(applyChartDarkMode, 300);

        // Listen for dark mode changes
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.attributeName === 'class' && 
                    (mutation.target.classList.contains('dark-mode') || 
                     !mutation.target.classList.contains('dark-mode'))) {
                    applyChartDarkMode();
                }
            });
        });

        observer.observe(document.body, {
            attributes: true,
            attributeFilter: ['class']
        });
    });
  </script>

  <!-- Komponen Nilai Berseri Chart Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Data untuk Komponen Nilai Berseri
      // Mapping index ke class komponen
      const komponenIndexMap = {
        0: 'sampah',        // Pengelolaan Sampah
        1: 'kelembagaan',   // Kelembagaan & Partisipasi Masyarakat
        2: 'kepemimpinan',  // Kepemimpinan
        3: 'ruang-hijau',   // Pengelolaan Ruang Terbuka Hijau
        4: 'energi',        // Konservasi Energi
        5: 'air'            // Konservasi Air
      };

      const data = {
        labels: [
          'Pengelolaan Sampah',
          'Kelembagaan & Partisipasi Masyarakat',
          'Kepemimpinan',
          'Pengelolaan Ruang Terbuka Hijau',
          'Konservasi Energi',
          'Konservasi Air'
        ],
        datasets: [{
          data: [40, 20, 10, 10, 10, 10],
          backgroundColor: [
            '#10B981', // Green - Pengelolaan Sampah
            '#F59E0B', // Amber - Kelembagaan
            '#1D4ED8', // Blue - Kepemimpinan
            '#06B6D4', // Cyan - RTH
            '#EC4899', // Pink - Energi
            '#8B5CF6'  // Purple - Air
          ],
          borderColor: [
            '#ffffff',
            '#ffffff',
            '#ffffff',
            '#ffffff',
            '#ffffff',
            '#ffffff'
          ],
          borderWidth: 3,
          borderRadius: 0
        }]
      };

      const config = {
        type: 'doughnut',
        data: data,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return context.label + ': ' + context.parsed + '%';
                }
              }
            }
          },
          onHover: function(event, activeElements) {
            // Clear previous highlights
            const allItems = document.querySelectorAll('.komponen-item');
            allItems.forEach(item => item.classList.remove('highlighted'));

            // Highlight corresponding item jika ada element yang di-hover
            if (activeElements.length > 0) {
              const dataIndex = activeElements[0].index;
              const komponenClass = komponenIndexMap[dataIndex];
              
              // Cari dan highlight komponen item yang sesuai
              const komponenItems = document.querySelectorAll('.komponen-item');
              komponenItems.forEach((item, index) => {
                const icon = item.querySelector('.komponen-icon');
                if (icon && icon.classList.contains(komponenClass)) {
                  item.classList.add('highlighted');
                  
                  // Tingkatkan visual pada chart
                  const chartInstance = window.komponenChart;
                  if (chartInstance) {
                    chartInstance.data.datasets[0].borderWidth = [3, 3, 3, 3, 3, 3];
                    chartInstance.data.datasets[0].borderWidth[dataIndex] = 8;
                    chartInstance.update('none');
                  }
                }
              });
            }
          }
        }
      };

      // Initialize chart
      const ctx = document.getElementById('komponenChart');
      if (ctx) {
        window.komponenChart = new Chart(ctx, config);
      }

      // Add hover effect dari list items ke chart
      const komponenItems = document.querySelectorAll('.komponen-item');
      komponenItems.forEach((item, itemIndex) => {
        item.addEventListener('mouseenter', function() {
          // Highlight item dengan zoom
          item.classList.add('highlighted');
          
          // Highlight chart segment dengan border lebih tebal
          if (window.komponenChart) {
            const chartInstance = window.komponenChart;
            chartInstance.data.datasets[0].borderWidth = [3, 3, 3, 3, 3, 3];
            chartInstance.data.datasets[0].borderWidth[itemIndex] = 8;
            chartInstance.update('none');
          }
        });

        item.addEventListener('mouseleave', function() {
          // Remove highlight dari item
          item.classList.remove('highlighted');
          
          // Reset chart
          if (window.komponenChart) {
            const chartInstance = window.komponenChart;
            chartInstance.data.datasets[0].borderWidth = [3, 3, 3, 3, 3, 3];
            chartInstance.update('none');
          }
        });
      });

      // Handle dark mode changes
      const originalBackgroundColors = data.datasets[0].backgroundColor;
      
      function updateChartColors() {
        if (document.body.classList.contains('dark-mode')) {
          // Keep same vibrant colors in dark mode
          data.datasets[0].backgroundColor = [
            '#10B981', // Green - Pengelolaan Sampah
            '#F59E0B', // Amber - Kelembagaan
            '#1D4ED8', // Blue - Kepemimpinan
            '#06B6D4', // Cyan - RTH
            '#EC4899', // Pink - Energi
            '#8B5CF6'  // Purple - Air
          ];
        } else {
          data.datasets[0].backgroundColor = originalBackgroundColors;
        }
        
        if (window.komponenChart) {
          window.komponenChart.update();
        }
      }

      // Watch for dark mode changes
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.attributeName === 'class') {
            updateChartColors();
          }
        });
      });

      observer.observe(document.body, {
        attributes: true,
        attributeFilter: ['class']
      });
    });
  </script>
  </body>
</html>