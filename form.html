<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Form Usulan – Berseri</title>
  <link rel="icon" type="image/png" href="Asset/logo-berseri.webp" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Droid+Serif:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
            --bg: #FFFFFF;
            --bg-soft: #F7FAF7;
            --ink: #111827;
            --muted: #374151;
            --primary: #065F46;
            --primary-weak: #D1FAE5;
            --border: #E5E7EB;
            --focus: #10B981;
        }
    html, body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; }
        body { font-size: 18px; line-height: 1.6; background: var(--bg); color: var(--ink); }

    /* Tombol */
    .btn { 
      min-height:48px; 
      display:inline-flex; 
      align-items:center; 
      justify-content:center; 
      padding:12px 20px; 
      border-radius:6px !important; 
      font-weight:600; 
    }

    .btn-primary { 
      background-color: #065F46 !important; 
      color: #000000 !important; 
      font-family: 'Poppins', sans-serif !important; 
      font-weight: 600 !important; 
      border: 2px solid #065F46 !important; 
      transition: all 0.2s ease !important; 
      text-decoration: none !important; 
    }

    .btn-primary:hover{ 
      filter:brightness(1.05); 
    
    }
    .btn-primary:focus{ 
      outline:3px solid transparent; 
      box-shadow:0 0 0 3px var(--focus); 
    }

    .btn-secondary { 
      background:#fff; 
      color:var(--primary); 
      border:2px solid var(--primary); 
      border-radius: 6px !important; 
    }
    .btn-secondary:hover{ background:var(--primary-weak); }
    .btn-secondary:focus{ outline:3px solid transparent; box-shadow:0 0 0 3px var(--focus); }

    /* Input */
    .input {
    width: 100%;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
    transition: all 0.2s ease;
    font-family: 'Google Sans', sans-serif !important;
    font-size: 1.1rem; /* Match label size */
    color: var(--ink);
    line-height: 1.5;
}

/* Select dropdown text */
select.input {
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    color: var(--ink);
}

/* Select dropdown options */
select.input option {
    font-family: 'Google Sans', sans-serif !important;
    font-size: 1.1rem;
    padding: 8px;
}

/* Textarea styling */
textarea.input {
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    line-height: 1.5;
}

/* Radio and checkbox text */
.inline-flex span {
    font-family: 'Google Sans', sans-serif !important;
    font-size: 1.1rem;
    color: var(--ink);
}

/* Update radio options and field instructions styling */
.field span:not(.label):not(.help),
.text-sm.text-red-600 {
     font-family: 'Google Sans', sans-serif !important;
}

/* Specific styling for radio button labels */
.inline-flex span {
    font-family: 'Poppins', sans-serif !important;
}

/* Styling for field instructions (like *Masukkan RW) */
.text-sm.text-red-600,
.text-sm.text-gray-500 {
    font-family: 'Google Sans', sans-serif !important;
    margin-top: 0 !important; /* Remove top margin completely */
    margin-bottom: 0.25rem !important; /* Reduce bottom margin */
}

/* Update grid layout spacing */
.grid.grid-cols-2.items-start.gap-2 {
    margin-top: 0 !important; /* Remove top margin */
}

/* Adjust label margin */
.label {
    margin-bottom: 0.125rem !important; /* Reduce bottom margin further */
}

/* Help text styling */
.help {
    font-family: 'Poppins', sans-serif !important;
}

/* Input focus styles */
.input:focus {
    outline: none !important;
    border: 2px solid #F1F1EF !important;
    box-shadow: 0 0 0 2px rgba(241, 241, 239, 0.3) !important;
}

/* Select focus styles */
select.input:focus {
    border: 2px solid #F1F1EF !important;
    box-shadow: 0 0 0 2px rgba(241, 241, 239, 0.3) !important;
}

/* Radio button checked state */
input[type="radio"]:checked {
    border-color: #F1F1EF !important;
    background-color: #F1F1EF !important;
}

/* Checkbox checked state */
input[type="checkbox"]:checked {
    border-color: #F1F1EF !important;
    background-color: #F1F1EF !important;
}
    .label { display: block; font-weight: 600; margin-bottom: 6px; color: #065F46; font-family: 'Poppins', sans-serif !important; }
    .help { display:block; font-size:0.875rem; color:#6B7280; margin-top:6px; }
    .field { margin-bottom:18px; }

    /* Cards and icons */
    .card { background:#fff; border:1px solid var(--border); border-radius:16px; padding:24px; }
    .icon-round { width:40px; height:40px; border-radius:9999px; display:inline-flex; align-items:center; justify-content:center; background:var(--primary-weak); color:var(--primary); font-weight:800; }
    a{ color:var(--primary); } a:hover{ text-decoration:underline; }
    :focus-visible{ outline:3px solid var(--focus); outline-offset:2px; }

    /* Adjust spacing */
    .form-step {
      margin-bottom: 2rem;
    }

    /* Nav and dropdown styling */
    .nav-link {
      position: relative;
      padding: 0.5rem 0.75rem;
      font-family: 'Poppins', sans-serif;
      color: var(--muted);
      font-weight: normal;
      transition: all 0.2s ease;
      text-decoration: none !important;
    }

    .nav-link:hover {
      background-color: #a9e66c !important;
      color: #000000 !important;
      border-radius: 6px;
      font-weight: 600;
      text-decoration: none !important;
    }
        
  .btn.btn-primary {
    background-color: #a9e66c !important;
    color: #000000 !important;
    font-family: 'Poppins', sans-serif !important;
    font-weight: 600 !important;
    border: 2px solid #a9e66c !important;
    transition: all 0.3s ease !important;
    padding: 0.5rem 0.75rem !important;
    min-height: auto !important;
    text-decoration: none !important;
    border-radius: 6px !important;
  }

  .btn.btn-primary:hover {
    background-color: #FFFFFF !important;
    border: 2px solid #a9e66c !important;
    font-weight: 400 !important;
}

/* Form primary button base style */
form .btn.btn-primary {
    background-color: #065F46 !important;
    color: #FFFFFF !important;
    border: 2px solid #065F46 !important;
    font-family: 'Poppins', sans-serif !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
}

/* Form primary button hover effect - only color changes */
form .btn.btn-primary:hover {
    background-color: #FFFFFF !important;
    color: #065F46 !important;
    border: 2px solid #065F46 !important;
    font-weight: 600 !important; /* Keep bold on hover */
}

/* Form primary button focus state */
form .btn.btn-primary:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Secondary form button */
form .btn.btn-secondary {
    background: #FFFFFF;
    color: #000000;
    border: 2px solid #000000;
    font-family: 'Poppins', sans-serif !important;
    border-radius: 6px !important;
    transition: all 0.3s ease !important;
}

/* Hover effect for secondary form button */
form .btn.btn-secondary:hover {
    background-color: #000000 !important;
    color: #FFFFFF !important;
    border: 2px solid #000000 !important;
}

/* Remove focus outline for secondary form button */
form .btn.btn-secondary:focus {
    outline: none !important;
    box-shadow: none !important;
}

.form-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 800; /* ExtraBold */
    color: #065F46;
    font-size: 1.25rem;
    line-height: 2.25rem;
    margin-bottom: 1.75rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #f08519; /* Orange underline */
    width: 100%;
}



    /* Custom dropdown sizing */
    select#kabkota {
        max-height: 160px !important; /* Reduce from 200px */
        width: 100%;
        overflow-y: auto;
        padding-right: 24px; /* Space for scrollbar */
    }

    /* Custom scrollbar styling */
    select.input {
        scrollbar-width: thin;
        scrollbar-color: #065F46 #ffffff;
    }
    
    select.input::-webkit-scrollbar {
        width: 6px; /* Reduced from 8px */
    }
    
    select.input::-webkit-scrollbar-track {
        background: #ffffff;
        border-radius: 4px;
    }
    
    select.input::-webkit-scrollbar-thumb {
        background-color: #065F46;
        border-radius: 4px;
        border: 1px solid #ffffff; /* Reduced from 2px */
    }
    
    /* Dropdown styling */
    select.input option {
        padding: 6px 8px; /* Reduced top/bottom padding */
        font-size: 14px; /* Slightly smaller font */
    }
    
    select.input option:hover {
        background-color: #D1FAE5;
    }

    /* Adjust dropdown icon position */
select.input {
    background-position: right 0.75rem center; /* Move icon more to the left */
    padding-right: 2rem; /* Reduce right padding */
}

/* Remove the default select arrow */
select.input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: none !important; /* Remove the CSS background arrow */
    padding-right: 2.5rem;
}

/* Custom positioning for select elements */
.field select {
    background-image: none !important; /* Remove the CSS background arrow */
}

/* Remove any existing select styling that might conflict */
select.input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding-right: 2.5rem; /* Make space for the icon */
}

/* Ensure the icon stays in position */
.field .relative svg {
    pointer-events: none;
    z-index: 1;
}
  </style>
  <style>
  @keyframes marquee {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
  .animate-marquee {
    display: inline-block;
    min-width: 100%;
    animation: marquee 15s linear infinite;
    will-change: transform;
  }
  .animate-marquee:hover {
    animation-play-state: paused;
  }

    /* Custom dropdown sizing */
    select#kabkota {
        max-height: 160px !important; /* Reduce from 200px */
        width: 100%;
        overflow-y: auto;
        padding-right: 24px; /* Space for scrollbar */
    }

    /* Custom scrollbar styling */
    select.input {
        scrollbar-width: thin;
        scrollbar-color: #065F46 #ffffff;
    }
    
    select.input::-webkit-scrollbar {
        width: 6px; /* Reduced from 8px */
    }
    
    select.input::-webkit-scrollbar-track {
        background: #ffffff;
        border-radius: 4px;
    }
    
    select.input::-webkit-scrollbar-thumb {
        background-color: #065F46;
        border-radius: 4px;
        border: 1px solid #ffffff; /* Reduced from 2px */
    }
    
    /* Dropdown styling */
    select.input option {
        padding: 6px 8px; /* Reduced top/bottom padding */
        font-size: 14px; /* Slightly smaller font */
    }
    
    select.input option:hover {
        background-color: #D1FAE5;
    }

    /* Adjust dropdown icon position */
select.input {
    background-position: right 0.75rem center; /* Move icon more to the left */
    padding-right: 2rem; /* Reduce right padding */
}

/* Remove the default select arrow */
select.input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: none !important; /* Remove the CSS background arrow */
    padding-right: 2.5rem;
}

/* Custom positioning for select elements */
.field select {
    background-image: none !important; /* Remove the CSS background arrow */
}

/* Remove any existing select styling that might conflict */
select.input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding-right: 2.5rem; /* Make space for the icon */
}

/* Ensure the icon stays in position */
.field .relative svg {
    pointer-events: none;
    z-index: 1;
}

/* Dark Mode Root Variables */
:root.dark-mode {
  --bg: #1a1a1a;
  --bg-soft: #0f1419;
  --ink: #ffffff;
  --muted: #b0b0b0;
  --primary: #087959;
  --primary-weak: #0f4c3a;
  --border: #404040;
  --focus: #10B981;
}

/* Dark Mode Body */
body.dark-mode {
  background: var(--bg);
  color: var(--ink);
}

/* Icon Toggle (Sun/Moon) */
.sun-icon {
  display: inline-block;
}

.moon-icon {
  display: none;
}

body.dark-mode .sun-icon {
  display: none;
}

body.dark-mode .moon-icon {
  display: inline-block;
}

/* Dark Mode Header */
body.dark-mode header {
  background-color: #2d2d2d;
  border-color: #404040;
}

/* Dark Mode Navigation */
body.dark-mode .nav-link {
  color: #b0b0b0 !important;
}

body.dark-mode .nav-link:hover {
  background-color: #a9e66c !important;
  color: #000000 !important;
}

/* Dark Mode Dropdown */
body.dark-mode .dropdown-menu {
  background-color: #2d2d2d;
  border-color: #404040;
}

body.dark-mode .dropdown-menu a {
  color: #b0b0b0;
}

body.dark-mode .dropdown-menu a:hover {
  background-color: #a9e66c !important;
  color: #000000 !important;
}

/* Dark Mode Main Content */
body.dark-mode main {
  background-color: var(--bg);
  color: var(--ink);
}

/* Dark Mode Form Card */
body.dark-mode .card {
  background-color: #2d2d2d !important;
  border-color: #404040 !important;
  color: var(--ink);
}

body.dark-mode .card:hover {
  border-color: #505050 !important;
}

/* Dark Mode Progress Bar */
body.dark-mode #progressBar {
  background-color: #404040 !important;
}

body.dark-mode #progressFill {
  background-color: #a9e66c !important;
}

/* Dark Mode Input Fields */
body.dark-mode .input {
  background-color: #333333 !important;
  border-color: #404040 !important;
  color: #b0b0b0 !important;
}

body.dark-mode .input:focus {
  border-color: #a9e66c !important;
  background-color: #333333 !important;
  box-shadow: 0 0 0 2px rgba(169, 230, 108, 0.2) !important;
}

body.dark-mode .input::placeholder {
  color: #808080 !important;
}

/* Dark Mode Select Options */
body.dark-mode select.input option {
  background-color: #2d2d2d;
  color: #b0b0b0;
}

/* Dark Mode Textarea */
body.dark-mode textarea.input {
  background-color: #333333 !important;
  border-color: #404040 !important;
  color: #b0b0b0 !important;
}

/* Dark Mode Label */
body.dark-mode .label {
  color: #7FE7C9 !important;
}

/* Dark Mode Help Text */
body.dark-mode .help {
  color: #b0b0b0 !important;
}

/* Dark Mode Radio/Checkbox */
body.dark-mode input[type="radio"],
body.dark-mode input[type="checkbox"] {
  background-color: #333333 !important;
  border-color: #404040 !important;
}

body.dark-mode input[type="radio"]:checked,
body.dark-mode input[type="checkbox"]:checked {
  border-color: #a9e66c !important;
  background-color: #a9e66c !important;
}

/* Dark Mode Inline Flex Span */
body.dark-mode .inline-flex span {
  color: #b0b0b0 !important;
}

/* Dark Mode Form Title */
body.dark-mode .form-title {
  color: #7FE7C9 !important;
  border-bottom-color: #f08519 !important;
}

/* Dark Mode Button */
body.dark-mode .btn.btn-primary {
  background-color: #a9e66c !important;
  color: #000000 !important;
  border: 2px solid #a9e66c !important;
}

body.dark-mode .btn.btn-primary:hover {
  background-color: #000000 !important;
  color: #ffffff !important;
  border: 2px solid #000000 !important;
}

body.dark-mode .btn.btn-secondary {
  background: #2d2d2d;
  color: #b0b0b0;
  border: 2px solid #404040;
}

body.dark-mode .btn.btn-secondary:hover {
  background-color: #404040 !important;
  color: #a9e66c !important;
  border: 2px solid #404040 !important;
}

/* Dark Mode Text Colors */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6 {
  color: #ffffff;
}

body.dark-mode p {
  color: #b0b0b0;
}

body.dark-mode .text-sm {
  color: #b0b0b0 !important;
}

body.dark.mode .text-red-600 {
  color: #ff6b6b !important;
}

body.dark.mode .text-gray-700 {
  color: #b0b0b0 !important;
}

body.dark.mode .text-gray-500 {
  color: #808080 !important;
}

body.dark.mode .text-gray-900 {
  color: #ffffff !important;
}

/* Dark Mode File Upload Section */
body.dark-mode .bg-red-200 {
  background-color: #5c2c2c !important;
  color: #ffb3b3 !important;
}

body.dark-mode .text-red-900 {
  color: #ffb3b3 !important;
}

body.dark-mode .rounded-xl.border.bg-white {
  background-color: #2d2d2d !important;
  border-color: #404040 !important;
}

body.dark-mode .border-emerald-200 {
  border-color: #1e5a4a !important;
}

body.dark.mode .text-emerald-700 {
  color: #7FE7C9 !important;
}

body.dark.mode .hover\:bg-emerald-50:hover {
  background-color: #1e5a4a !important;
}

/* Dark Mode Footer */
body.dark-mode footer {
  background-color: #2d2d2d !important;
  color: #ffffff !important;
  border-top: none !important;
}

body.dark-mode footer h3 {
  color: #f08519 !important;
}

body.dark-mode footer p,
body.dark-mode footer a,
body.dark-mode footer address {
  color: #b0b0b0 !important;
}

body.dark-mode footer a:hover {
  color: #f08519 !important;
}

body.dark-mode footer .border-t {
  border-top-color: #f08519 !important;
}

body.dark-mode footer svg {
  stroke: #b0b0b0 !important;
  color: #b0b0b0 !important;
}

/* Dark Mode Separator Line */
body.dark-mode .bg-gray-300 {
  background-color: #404040 !important;
}

/* Dark Mode Info Box */
body.dark-mode .p-4.rounded-xl.border {
  background-color: #2d2d2d !important;
  border-color: #404040 !important;
}

body.dark-mode .text-emerald-800 {
  color: #7FE7C9 !important;
}

</style>


</head>
<body class="bg-white min-h-screen">

  <a href="#main" class="sr-only focus:not-sr-only focus:absolute top-2 left-2 bg-white text-emerald-700 px-3 py-2 rounded">Lewati ke konten utama</a>

<!-- Header -->
      <header class="bg-[#F1F1EF] border-b sticky top-0 z-[2000]" role="banner" style="border-color: var(--border)">
          <nav class="max-w-7xl mx-auto px-4 lg:px-6 py-4" role="navigation" aria-label="Navigasi utama">
              <div class="flex items-center gap-4">
                  <div class="flex-shrink-0 flex items-center gap-3">
                      <a href="index.html" class="flex items-center gap-3" aria-label="Berseri Beranda">
                          <!-- Logo Bulat Berseri Atas -->
                          <img src="Asset/logo-berseri.webp" alt="Logo Berseri" class="h-16">
                          <!-- Logo Kata Berseri Atas -->
                          <img src="Asset/Logo Kata Berseri.webp" alt="Logo DLH" class="h-14">
                      </a>
                  </div>

                  <!-- NAV Desktop -->
                  <ul class="hidden md:flex items-center gap-2 ml-auto">
    <li><a href="index.html" class="nav-link text-[var(--muted)]">Beranda</a></li>
    <li><a href="tentang.html" class="nav-link text-[var(--muted)]">Tentang</a></li>
    
    <li class="relative group">
        <button id="desktop-dropdown-btn" class="nav-link text-[var(--muted)] flex items-center gap-1 whitespace-nowrap transition-all duration-200">
          Data
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="desktop-dropdown-menu" class="dropdown-menu absolute left-0 mt-1 w-48 bg-white border rounded-lg shadow-lg py-2 transform origin-top transition duration-200">
            <a href="detail-berseri.html" class="block px-4 py-2 text-sm text-gray-700 transition-colors duration-200">Detail Berseri</a>
            <a href="kabupaten-kota.html" class="block px-4 py-2 text-sm text-gray-700 transition-colors duration-200">Kabupaten/Kota</a>
        </div>
    </li>
    
    <li><a href="panduan.html" class="nav-link text-[var(--muted)]">Panduan</a></li>
    
    <!-- Dark Mode Toggle Button -->
    <li>
        <button id="theme-toggle" class="nav-link text-[var(--muted)] flex items-center gap-2 whitespace-nowrap" aria-label="Toggle dark mode" title="Toggle Dark Mode">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="moon-icon hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </li>
    
    <li><a href="login.html" class="btn btn-primary no-underline">Login</a></li>
</ul>

                  <!-- Mobile Navigation -->
                  <div class="md:hidden ml-auto flex items-center">
                    <div class="NavigationSlideOut">
                      <ul class="navbar">
                        <li class="NavigationTab"><a href="index.html"><p>Beranda</p></a></li>
                        <li class="NavigationTab"><a href="tentang.html"><p>Tentang</p></a></li>
                        <li class="NavigationTab dropdown">
                          <a href="#" id="mobile-dropdown-btn">
                            <p>Data 
                              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                              </svg>
                            </p>
                          </a>
                          <div id="mobile-dropdown" class="dropdown-content">
                            <div class="submenu-items">
                              <a href="detail-berseri.html"><p>Detail Berseri</p></a>
                              <a href="kabupaten-kota.html"><p>Kabupaten/Kota</p></a>
                            </div>
                          </div>
                        </li>
                        <li class="NavigationTab"><a href="panduan.html"><p>Panduan</p></a></li>
                        <li class="NavigationTab"><a href="login.html"><p>Login</p></a></li>
                      </ul>
                  </div>
                    
                  <div class="menuIcon">
                      <div class="line_one"></div>
                      <div class="line_two"></div>
                      <div class="line_three"></div>
                  </div>
              </div>
          </div>
      </nav>
  </header>

  <main id="main" class="max-w-3xl mx-auto px-4 py-8">
    <!-- Progress -->
    <div id="progressBar" class="w-full bg-gray-200 rounded-full h-3 mb-8" aria-hidden="true">
      <div id="progressFill" class="bg-emerald-700 h-3 rounded-full" style="width:10%"></div>
    </div>

    <form id="usulanForm" novalidate>
      <!-- STEP 1 (identitas desa) -->
      <div class="form-step space-y-6">
        <!-- Add card wrapper -->
        <section class="card p-6">
          <h2 class="form-title">IDENTITAS DESA/KELURAHAN</h2>
          <div class="space-y-5">
            <div class="field">
              <label for="email" class="label">Email</label>
              <input id="email" name="email" type="email" class="input" required placeholder="contoh@email.com">
              <span class="help">Kami akan mengirimkan notifikasi ke email ini.</span>
            </div>

            <div class="field">
              <span class="label">Apakah Anda dari Desa atau Kelurahan?</span>
              <div class="flex gap-6 mt-2">
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="tipe_wilayah" value="desa"> <!-- input radio -->
                  <span>Desa</span> <!-- teks yang akan menggunakan Google Sans -->
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="tipe_wilayah" value="kelurahan" required class="h-4 w-4 text-emerald-600">
                  <span>Kelurahan</span>
                </label>
              </div>
            </div>

            <div class="field">
              <label for="nama-desa" class="label">Nama Desa/Kelurahan</label>
              <input id="nama-desa" name="nama_desa" type="text" class="input uppercase" required placeholder="Cth: SUDIMORO">
            </div>

            <div class="field">
              <label for="kecamatan" class="label">Kecamatan</label>
              <input id="kecamatan" name="kecamatan" type="text" class="input uppercase" required placeholder="Cth: KECAMATAN ABC">
            </div>

            <!-- Update the select element and its wrapper -->
<div class="field relative">
    <label for="kabkota" class="label">Kabupaten/Kota</label>
    <div class="relative">
        <select id="kabkota" name="kabkota" class="input pr-10" required>
            <option value="">Pilih Kabupaten/Kota</option>
            <option>Kabupaten Pacitan</option>
            <option>Kabupaten Ponorogo</option>
            <option>Kabupaten Trenggalek</option>
            <option>Kabupaten Tulungagung</option>
            <option>Kabupaten Blitar</option>
            <option>Kabupaten Kediri</option>
            <option>Kabupaten Malang</option>
            <option>Kabupaten Lumajang</option>
            <option>Kabupaten Jember</option>
            <option>Kabupaten Banyuwangi</option>
            <option>Kabupaten Bondowoso</option>
            <option>Kabupaten Situbondo</option>
            <option>Kabupaten Probolinggo</option>
            <option>Kabupaten Pasuruan</option>
            <option>Kabupaten Sidoarjo</option>
            <option>Kabupaten Mojokerto</option>
            <option>Kabupaten Jombang</option>
            <option>Kabupaten Nganjuk</option>
            <option>Kabupaten Madiun</option>
            <option>Kabupaten Magetan</option>
            <option>Kabupaten Ngawi</option>
            <option>Kabupaten Bojonegoro</option>
            <option>Kabupaten Tuban</option>
            <option>Kabupaten Lamongan</option>
            <option>Kabupaten Gresik</option>
            <option>Kabupaten Bangkalan</option>
            <option>Kabupaten Sampang</option>
            <option>Kabupaten Pamekasan</option>
            <option>Kabupaten Sumenep</option>
            <option>Kota Kediri</option>
            <option>Kota Blitar</option>
            <option>Kota Malang</option>
            <option>Kota Probolinggo</option>
            <option>Kota Pasuruan</option>
            <option>Kota Mojokerto</option>
            <option>Kota Madiun</option>
            <option>Kota Surabaya</option>
            <option>Kota Batu</option>
          </select>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </div>
      </div>

            <div class="field">
              <label for="kades" class="label">Nama Kades/Lurah</label>
              <input id="kades" name="kades" type="text" class="input uppercase" required placeholder="Cth: Faza Muzakki, S.Tr.Kom.">
            </div>

            <div class="field">
              <label for="alamat" class="label">Alamat Kantor Desa/Kelurahan</label>
              <textarea id="alamat" name="alamat" class="input" rows="2" required></textarea>
            </div>

            <div class="field">
              <label for="hp" class="label">No. Handphone Kades/Lurah</label>
              <input id="hp" name="hp" type="tel" inputmode="numeric" class="input" required placeholder="08xxxxxxxxxx" pattern="[0-9]+" title="Hanya angka yang diperbolehkan">
            </div>

            <div class="field">
              <span class="label">Mengusulkan ke Kategori</span>
              <div class="flex flex-wrap gap-6 mt-2">
                <label class="inline-flex items-center gap-2"><input type="radio" name="kategori" value="Pratama" required> <span>Pratama</span></label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="kategori" value="Madya" required> <span>Madya</span></label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="kategori" value="Mandiri" required> <span>Mandiri</span></label>
              </div>
            </div>

            <div class="field">
              <label for="ketua" class="label">Nama Ketua Kader Lingkungan</label>
              <input id="ketua" name="ketua" type="text" class="input" required placeholder="Nama Ketua Kader">
            </div>

            <div class="field">
              <label for="jumlah_kader" class="label">Jumlah Kader Lingkungan</label>
              <input id="jumlah_kader" name="jumlah_kader" type="number" inputmode="numeric" min="0" class="input" required placeholder="Contoh: 12">
            </div>

            <div class="field">
              <label for="studi" class="label">Lokasi Studi Banding</label>
              <input id="studi" name="studi" type="text" class="input" required placeholder="">
            </div>

            <!-- Update the grid sections for all titik pantau -->
            <div class="grid md:grid-cols-2 gap-4">
              <!-- Titik Pantau 1 -->
              <div class="field">
                <label class="label">Titik Pantau 1</label>
                <div class="grid grid-cols-2 items-start gap-2 relative">
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RW</div>
                    <input id="titik1_rw" name="titik1_rw" type="text" class="input" required placeholder="RW (cth: RW 1)">
                  </div>
                  <!-- Add separator line -->
                  <div class="absolute left-1/2 top-7 bottom-2 w-px bg-gray-300"></div>
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RT</div>
                    <input id="titik1_rt" name="titik1_rt" type="text" class="input" required placeholder="RT (cth: RT 1,2,3)">
                  </div>
                </div>
              </div>

              <!-- Titik Pantau 2 -->
              <div class="field">
                <label class="label">Titik Pantau 2</label>
                <div class="grid grid-cols-2 items-start gap-2 relative">
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RW</div>
                    <input id="titik2_rw" name="titik2_rw" type="text" class="input" required placeholder="RW (cth: RW 2)">
                  </div>
                  <div class="absolute left-1/2 top-7 bottom-2 w-px bg-gray-300"></div>
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RT</div>
                    <input id="titik2_rt" name="titik2_rt" type="text" class="input" required placeholder="RT (cth: RT 1,2,3)">
                  </div>
                </div>
              </div>

              <!-- Titik Pantau 3 -->
              <div class="field">
                <label class="label">Titik Pantau 3</label>
                <div class="grid grid-cols-2 items-start gap-2 relative">
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RW</div>
                    <input id="titik3_rw" name="titik3_rw" type="text" class="input" required placeholder="RW (cth: RW 3)">
                  </div>
                  <div class="absolute left-1/2 top-7 bottom-2 w-px bg-gray-300"></div>
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RT</div>
                    <input id="titik3_rt" name="titik3_rt" type="text" class="input" required placeholder="RT (cth: RT 1,2,3)">
                  </div>
                </div>
              </div>

              <!-- Titik Pantau 4 -->
              <div class="field">
                <label class="label">Titik Pantau 4</label>
                <div class="grid grid-cols-2 items-start gap-2 relative">
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RW</div>
                    <input id="titik4_rw" name="titik4_rw" type="text" class="input" required placeholder="RW (cth: RW 4)">
                  </div>
                  <div class="absolute left-1/2 top-7 bottom-2 w-px bg-gray-300"></div>
                  <div>
                    <div class="text-sm text-red-600 mb-1">*Masukkan RT</div>
                    <input id="titik4_rt" name="titik4_rt" type="text" class="input" required placeholder="RT (cth: RT 1,2,3)">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- STEP 2 (data sampah & pengelolaan – 2024) -->
      <div class="form-step hidden space-y-6">
        <section class="card p-6">
          <h2 class="form-title">DATA SAMPAH & PENGOLAHAN</h2>
          <div class="space-y-5">
            <div class="p-4 rounded-xl border bg-[var(--bg-soft)]">
              <p class="m-0 text-emerald-800 font-semibold">JUMLAH TIMBULAN SAMPAH DI DESA/KELURAHAN (kg/bulan)</p>
              <p class="help">
                <strong>Catatan perhitungan:</strong>
                Timbulan = <em>Jumlah Penduduk</em> × <em>Estimasi Timbulan (kg/org/hari)</em> × <em>30 hari</em>.
              </p>
              
             <p class="m-0 text-emerald-800 font-semibold mt-3">
               Estimasi Timbulan Sampah berdasarkan Peraturan Menteri LHK No.6 Tahun 2022 tentang SIPSN, sebagai berikut:
              </p>
              
              <ul class="list-disc pl-6 help">
                <li>Kota Kecil ≈ <strong>0,4</strong> kg/org/hari</li>
                <li>Kota Sedang ≈ <strong>0,5</strong> kg/org/hari</li>
                <li>Kota Besar ≈ <strong>0,6</strong> kg/org/hari</li>
                <li>Kota Metropolitan ≈ <strong>0,7</strong> kg/org/hari</li>
              </ul>
            </div>

            <!-- Grid: Jumlah Penduduk, Estimasi, Hasil Perkiraan (simetris di desktop) -->
            <div class="grid md:grid-cols-3 gap-6 items-start">
              <!-- Kolom 1 -->
              <div class="field">
                <label for="penduduk" class="label">Jumlah Penduduk</label>
                <input id="penduduk" name="penduduk" type="number" inputmode="numeric" min="0"
                       class="input h-12" placeholder="cth: 3500">
                <span class="help min-h-[20px]">&nbsp;</span>
              </div>

              <!-- Kolom 2 -->
              <div class="field">
                <label for="estimasi" class="label">Estimasi Timbulan (kg/org/hari)</label>
                <select id="estimasi" name="estimasi" class="input h-12">
                  <option value="">Pilih Estimasi (Permen LHK 6/2022)</option>
                  <option value="0.4">Kota Kecil ≈ 0.4</option>
                  <option value="0.5">Kota Sedang ≈ 0.5</option>
                  <option value="0.6">Kota Besar ≈ 0.6</option>
                  <option value="0.7">Kota Metropolitan ≈ 0.7</option>
                </select>
                <span class="help min-h-[20px]">&nbsp;</span>
              </div>

              <!-- Kolom 3 -->
              <div class="field">
                <label for="timbulan_total" class="label">Hasil Perkiraan (kg/bulan)</label>
                <input id="timbulan_total" name="timbulan_total" type="number"
                       class="input h-12 bg-gray-100" placeholder="otomatis dari kalkulator" readonly>
                <span class="help min-h-[20px]">Otomatis dihitung dari Jumlah Penduduk × Estimasi × 30 hari.</span>
              </div>
            </div>

            <div class="field">
              <label for="pengurangan_2024" class="label">JUMLAH PENGURANGAN SAMPAH TAHUN 2024 (kg/bulan)</label>
              <input id="pengurangan_2024" name="pengurangan_2024" type="number" inputmode="decimal" min="0" step="any" class="input" placeholder="cth: 3500" required>
              <span class="help">Hasil pengelolaan: komposter, bank sampah, biopori, maggot, dll selama 2024.</span>
            </div>

            <div class="field">
              <span class="label">Apakah memiliki TPS3R/TPST?</span>
              <div class="flex gap-6 mt-2">
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="punya_tps" value="ya" class="h-4 w-4 text-emerald-600">
                  <span>Ya</span>
                </label>
                <label class="inline-flex items-center gap-2">
                  <input type="radio" name="punya_tps" value="tidak" class="h-4 w-4 text-emerald-600">
                  <span>Tidak</span>
                </label>
              </div>
            </div>

            <div id="wrap_masuk_tps" class="field hidden">
              <label for="masuk_tps_2024" class="label">SAMPAH MASUK DI TPS3R/TPST TAHUN 2024 (kg/bulan)</label>
              <input id="masuk_tps_2024" name="masuk_tps_2024" type="number" inputmode="decimal" min="0" step="any" class="input" placeholder="cth: 1200">
            </div>
          </div>
        </section>
      </div>

      <!-- STEP 3: (opsional) ringkasan -->
      <div class="form-step hidden space-y-6">
        <section class="card p-6">
          <h2 class="form-title">RINGKASAN</h2>
          <div class="space-y-5">
            <div>
              <label for="ringkasan" class="label">Ringkasan Usulan (opsional)</label>
              <textarea id="ringkasan" name="ringkasan" class="input" rows="4" placeholder="Tulis ringkasan singkat..."></textarea>
              <span class="help">Sampaikan inti kegiatan, sasaran, dan manfaat secara singkat.</span>
            </div>
          </div>
        </section>
      </div>

      <!-- STEP 4: pratinjau -->
      <div class="form-step hidden">
        <p class="mb-4 font-['Google Sans', sans-serif] text-base">Pratinjau data usulan Anda sebelum dikirim.</p>
        <ul class="list-disc pl-6 text-gray-700 space-y-1">
          <li class="font-['Google Sans', sans-serif] text-base">Pastikan identitas & lokasi sudah benar.</li>
          <li class="font-['Google Sans', sans-serif] text-base">Periksa data timbulan/pengelolaan sampah.</li>
          <li class="font-['Google Sans', sans-serif] text-base">Siapkan dokumen pendukung di langkah berikutnya.</li>
        </ul>
      </div>

      <!-- STEP 5 (TERAKHIR): FILE PENDUKUNG -->
      <div class="form-step hidden space-y-4">
        <!-- Header merah muda seperti contoh -->
        <div class="rounded-t-xl bg-red-200 text-red-900 px-4 py-3 font-bold tracking-wide">FILE PENDUKUNG</div>

        <!-- Kartu 1 -->
        <div class="rounded-xl border bg-white p-4 shadow-sm">
          <div class="font-semibold text-gray-900">
            FOTO KEPALA DESA/LURAH <span class="text-red-600">*</span>
          </div>
          <div class="text-sm text-red-600 mb-1">*Wajib diisi</div>
          <div class="text-sm text-gray-500 mt-2">Upload 1 file yang didukung. Maks 1 MB.</div>

          <div class="mt-4">
            <input id="file_foto" type="file" accept=".jpg,.jpeg,.png" class="hidden" required>
            <button type="button" data-pick="#file_foto" class="inline-flex items-center gap-2 border rounded-xl px-3 py-2 text-emerald-700 border-emerald-200 hover:bg-emerald-50">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 17h10v2H7zm5-14 5 5h-3v4h-4V8H7z"/></svg>
              Tambahkan file
            </button>
            <div id="file_foto_name" class="text-sm text-gray-700 mt-2"></div>
          </div>
        </div>

        <!-- Kartu 2 -->
        <div class="rounded-xl border bg-white p-4 shadow-sm">
          <div class="font-semibold text-gray-900">
            SERTIFIKAT STUDI BANDING <span class="text-red-600">*</span>
          </div>
          <div class="text-sm text-red-600 mb-1">*Wajib diisi</div>
          <div class="text-sm text-gray-500 mt-2">Upload 1 file yang didukung. Maks 1 MB.</div>

          <div class="mt-4">
            <input id="file_sertifikat" type="file" accept=".jpg,.jpeg,.png,.pdf" class="hidden" required>
            <button type="button" data-pick="#file_sertifikat" class="inline-flex items-center gap-2 border rounded-xl px-3 py-2 text-emerald-700 border-emerald-200 hover:bg-emerald-50">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 17h10v2H7zm5-14 5 5h-3v4h-4V8H7z"/></svg>
              Tambahkan file
            </button>
            <div id="file_sertifikat_name" class="text-sm text-gray-700 mt-2"></div>
          </div>
        </div>

        <!-- Kartu 3 -->
        <div class="rounded-xl border bg-white p-4 shadow-sm">
          <div class="font-semibold text-gray-900">PIAGAM PENGHARGAAN DESA/KELURAHAN BERSERI YANG SUDAH DIDAPATKAN</div>
          <div class="text-sm text-gray-500 mt-2">Upload 1 file yang didukung. Maks 10 MB.</div>

          <div class="mt-4">
            <input id="file_piagam" type="file" accept=".jpg,.jpeg,.png,.pdf" class="hidden">
            <button type="button" data-pick="#file_piagam" class="inline-flex items-center gap-2 border rounded-xl px-3 py-2 text-emerald-700 border-emerald-200 hover:bg-emerald-50">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 17h10v2H7zm5-14 5 5h-3v4h-4V8H7z"/></svg>
              Tambahkan file
            </button>
            <div id="file_piagam_name" class="text-sm text-gray-700 mt-2"></div>
          </div>
        </div>

        <p class="text-sm text-gray-500">Format didukung: JPG, PNG, PDF. Ukuran mengikuti keterangan tiap dokumen.</p>
      </div>

      <!-- Navigasi -->
      <div class="mt-8 grid gap-3 sm:grid-cols-[1fr_auto] sm:items-center"> 
        <button type="button" id="prevBtn" class="btn btn-secondary w-full sm:w-auto">Sebelumnya</button>
        <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto sm:justify-end">
          <button type="button" id="saveDraftBtn" class="btn btn-secondary w-full sm:w-auto">Simpan Draft</button>
          <button type="button" id="nextBtn" class="btn btn-primary w-full sm:w-auto">Berikutnya</button>
          <button type="submit" id="submitBtn" class="btn btn-primary hidden w-full sm:w-auto">Kirim</button>
        </div>
      </div>
    </form>
  </main>
  
    <!-- Footer -->
    <footer class="bg-[#F1F1EF] text-black py-12">
        <div class="max-w-7xl mx-auto px-4 lg:px-6">
        <!-- Update footer grid layout -->
            <div class="grid gap-8 md:grid-cols-5"> <!-- Changed to 5 columns for better distribution -->
                <!-- Contact Info - spans 2 columns -->
                <div class="md:col-span-2">
                    <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Hubungi Kami</h3>
                        <address class="not-italic space-y-3">
                            <div class="flex items-start gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mt-1 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                <p class="text-sm max-w-xs" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">Jl. Wisata Menanggal No.38, Dukuh Menanggal, Kec. Gayungan, Surabaya, Jawa Timur 60234</p>
                            </div>
                        <div class="flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">(031) 8290186</p>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="#3C3C3C">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                        </svg>
                                        <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">dlh@jatimprov.go.id</p>
                                    </div>
                                </address>
                        </div>

                        <!-- Links - spans 1 column -->
                        <div class="md:col-span-1">
                            <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Tautan</h3>
                            <ul class="space-y-2">
                            <li><a href="index.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Beranda</a></li>
                            <li><a href="tentang.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Tentang BERSERI</a></li>
                            <li><a href="panduan.html" class="text-sm text-[#3C3C3C] hover:text-[#F08519] hover:underline transition-colors duration-300">Panduan</a></li>
                            </ul>
                        </div>

                        <!-- Social Media - spans 1 column -->
                        <div class="md:col-span-1">
                            <h3 class="font-semibold text-lg mb-4 font-poppins text-[#f08519]">Media Sosial</h3>
                            <div class="flex items-center gap-2">
                            <a href="https://facebook.com/BerseriJatim" target="_blank" rel="noopener noreferrer"
                                class="flex items-center gap-2 text-[#3C3C3C] hover:text-[#F08519] transition-colors duration-300">
                                <svg class="h-5 w-5" fill="#3C3C3C" viewBox="0 0 24 24">
                                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/>
                                </svg>
                                <span class="text-sm font-poppins transition-colors duration-300">BerseriJatim</span>
                            </a>
                            </div>
                        </div>
                    </div>
                    <!-- Footer copyright section -->
                    <div class="text-center pt-8 mt-8 border-t-2 border-[#f08519]">
                    <p class="text-sm" style="font-family: 'Google Sans', sans-serif; color: #3C3C3C">@<span id="year">2023</span> BERSERI - Dinas Lingkungan Hidup Provinsi Jawa Timur</p>
                    </div>
                </footer>


  <!-- Wizard asli -->
  <script src="js/form.js" defer></script>

<!-- Tambahan kecil: kalkulasi, toggle TPS, upload UI, dan sinkronisasi progress bar -->
<script>
  /* =========================
     Util: parsing angka ID (1.234,56 → 1234.56)
     ========================= */
  function parseIDNumber(v) {
    if (v == null) return NaN;
    let s = String(v).trim();
    if (!s) return NaN;
    // Jika ada koma, anggap itu desimal; titik dianggap pemisah ribuan
    if (s.includes(',')) {
      s = s.replace(/\./g, '').replace(',', '.');
    }
    return parseFloat(s);
  }
  function fmt2(n) {
    if (isNaN(n)) return '';
    // tampilkan maks 2 desimal, tapi hilangkan .00
    const s = n.toFixed(2);
    return s.endsWith('.00') ? s.slice(0, -3) : s;
  }

  /* =========================
     Kalkulator timbulan
     Timbulan = Penduduk × Estimasi × 30
     ========================= */
  function hitungTimbulan() {
    const pendudukEl = document.getElementById('penduduk');
    const estimasiEl = document.getElementById('estimasi');
    const out = document.getElementById('timbulan_total');
    if (!pendudukEl || !estimasiEl || !out) return;

    // pastikan kolom hasil readonly
    out.readOnly = true;
    out.classList.add('bg-gray-100');

    const penduduk = parseIDNumber(pendudukEl.value);
    const estimasi = parseIDNumber(estimasiEl.value);

    if (penduduk > 0 && estimasi > 0) {
      const hasil = penduduk * estimasi * 30;
      out.value = fmt2(hasil);
    } else {
      out.value = '';
    }
  }
  ['penduduk', 'estimasi'].forEach(id => {
  const el = document.getElementById(id);
  if (el) {  // Fixed syntax error here
    el.addEventListener('input', hitungTimbulan);
    el.addEventListener('change', hitungTimbulan);
    // cegah scroll mouse mengubah angka tanpa sengaja
    el.addEventListener('wheel', e => e.target.type === 'number' && e.target === document.activeElement && e.preventDefault(), { passive: false });
  }
});

  /* =========================
     TPS toggle
     ========================= */
  function syncTPS() {
    const ya = document.querySelector('input[name="punya_tps"][value="ya"]');
    const wrap = document.getElementById('wrap_masuk_tps');
    const input = document.getElementById('masuk_tps_2024');
    if (!wrap || !input) return;
    const checkedYa = ya && ya.checked;
    wrap.classList.toggle('hidden', !checkedYa);
    input.toggleAttribute('required', checkedYa);
    if (!checkedYa) input.value = '';
  }
  document.addEventListener('change', (e) => {
    if (e.target && e.target.name === 'punya_tps') syncTPS();
  });

  /* =========================
     Upload UI (tampilkan nama + cek ukuran)
     ========================= */
  function setupPicker(btnSelector, inputId, labelId, maxMB){
    const btns = document.querySelectorAll(btnSelector);
    btns.forEach(btn=>{
      const targetSel = btn.getAttribute('data-pick');
      const input = document.querySelector(targetSel);
      const label = document.getElementById(labelId);
      if (!input) return;
      btn.addEventListener('click', ()=> input.click());
      input.addEventListener('change', ()=>{
        if (!input.files || !input.files[0]) { if(label) label.textContent=''; return; }
        const f = input.files[0];
        const ok = f.size <= maxMB * 1024 * 1024;
        if (!ok) {
          alert('Ukuran file melebihi ' + maxMB + ' MB');
          input.value = '';
          if (label) label.textContent = '';
          return;
        }
        if (label) label.textContent = '• ' + f.name + ' (' + (f.size/1024/1024).toFixed(2) + ' MB)';
      });
    });
  }

  /* =========================
     Progress bar sinkron step
     ========================= */
  function updateProgress() {
    const steps = Array.from(document.querySelectorAll('.form-step'));
    const fill = document.getElementById('progressFill');
    const activeIndex = steps.findIndex(s => !s.classList.contains('hidden'));
    const total = steps.length;
    if (fill && activeIndex >= 0) {
      const pct = Math.max(5, Math.round(((activeIndex + 1) / total) * 100)) - 2; // padding visual
      fill.style.width = pct + '%';
    }
  }

  /* =========================
     Init
     ========================= */
  document.addEventListener('DOMContentLoaded', ()=>{
    syncTPS(); hitungTimbulan(); updateProgress();

    setupPicker('[data-pick="#file_foto"]', 'file_foto', 'file_foto_name', 1);
    setupPicker('[data-pick="#file_sertifikat"]', 'file_sertifikat', 'file_sertifikat_name', 1);
    setupPicker('[data-pick="#file_piagam"]', 'file_piagam', 'file_piagam_name', 10);

    const prev = document.getElementById('prevBtn');
    const next = document.getElementById('nextBtn');
    [prev, next].forEach(b => b && b.addEventListener('click', () => setTimeout(updateProgress, 0)));

    // bila ada perubahan layout yang memicu transisi
    const form = document.getElementById('usulanForm');
    form && form.addEventListener('transitionend', updateProgress);

    // Add to form.html script section
    document.getElementById('saveDraftBtn').addEventListener('click', function() {
        const formData = {
            tipe_wilayah: document.querySelector('input[name="tipe_wilayah"]:checked')?.value || '',
            nama_desa: document.getElementById('nama-desa')?.value || '',
            kecamatan: document.getElementById('kecamatan')?.value || '',
            kabkota: document.getElementById('kabkota')?.value || '',
            kategori: document.querySelector('input[name="kategori"]:checked')?.value || ''
        };
        
        // Save to localStorage
        localStorage.setItem('usulan_form_data', JSON.stringify(formData));
        console.log('Draft saved:', formData);
    });
  });
</script>
<script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // Desktop dropdown functionality
        $(document).ready(function() {
            let desktopDropdownBtn = $('#desktop-dropdown-btn');
            let desktopDropdownMenu = $('#desktop-dropdown-menu');
            let dropdownArrow = desktopDropdownBtn.find('svg');
            let isDesktopDropdownOpen = false;

            // Desktop dropdown click handler
            desktopDropdownBtn.click(function(e) {
                e.preventDefault();
                isDesktopDropdownOpen = !isDesktopDropdownOpen;
                
                if(isDesktopDropdownOpen) {
                    desktopDropdownMenu.removeClass('scale-95 opacity-0 invisible').addClass('scale-100 opacity-100 visible');
                    dropdownArrow.addClass('rotate-180');
                } else {
                    desktopDropdownMenu.removeClass('scale-100 opacity-100 visible').addClass('scale-95 opacity-0 invisible');
                    dropdownArrow.removeClass('rotate-180');
                }
            });

            // Document click handler for closing dropdown
            $(document).click(function(e) {
                if (!desktopDropdownBtn.is(e.target) && !desktopDropdownMenu.is(e.target) && desktopDropdownMenu.has(e.target).length === 0) {
                    desktopDropdownMenu.removeClass('scale-100 opacity-100 visible').addClass('scale-95 opacity-0 invisible');
                    dropdownArrow.removeClass('rotate-180');
                    isDesktopDropdownOpen = false;
                }
            });

            // Mobile Navigation
            $('.menuIcon').click(function() {
                $(this).toggleClass('on');
                $('.NavigationSlideOut').css('right', $(this).hasClass('on') ? '0' : '-300px');
            });

            // Mobile Dropdown
            $('#mobile-dropdown-btn').click(function(e) {
                e.preventDefault();
                const dropdownContent = $('#mobile-dropdown');
                const parentTab = $(this).closest('.NavigationTab');
                
                parentTab.toggleClass('active');
                if (dropdownContent.hasClass('show')) {
                    dropdownContent.removeClass('show');
                    setTimeout(() => {
                        dropdownContent.css('display', 'none');
                    }, 300);
                } else {
                    dropdownContent.css('display', 'block');
                    setTimeout(() => {
                        dropdownContent.addClass('show');
                    }, 10);
                }
            });
        });
    </script>
<script>
  // Dark Mode Manager Class
  class DarkModeManager {
    constructor() {
      this.storageKey = 'form-darkmode';
      this.init();
    }

    init() {
      const savedMode = localStorage.getItem(this.storageKey);
      
      if (savedMode === 'enabled') {
        this.enableDarkMode();
      }
      
      this.setupToggleButtons();
    }

    setupToggleButtons() {
      setTimeout(() => {
        const toggleBtn = document.getElementById('theme-toggle');

        if (toggleBtn) {
          toggleBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            this.toggle();
          });
        }
      }, 200);
    }

    enableDarkMode() {
      document.documentElement.classList.add('dark-mode');
      document.body.classList.add('dark-mode');
      localStorage.setItem(this.storageKey, 'enabled');
      this.updateIcons();
    }

    disableDarkMode() {
      document.documentElement.classList.remove('dark-mode');
      document.body.classList.remove('dark-mode');
      localStorage.setItem(this.storageKey, 'disabled');
      this.updateIcons();
    }

    toggle() {
      if (document.body.classList.contains('dark-mode')) {
        this.disableDarkMode();
      } else {
        this.enableDarkMode();
      }
    }

    updateIcons() {
      const isDark = document.body.classList.contains('dark-mode');
      
      const sunIcon = document.querySelector('#theme-toggle .sun-icon');
      const moonIcon = document.querySelector('#theme-toggle .moon-icon');
      
      if (sunIcon) sunIcon.style.display = isDark ? 'none' : 'inline-block';
      if (moonIcon) moonIcon.style.display = isDark ? 'inline-block' : 'none';
    }
  }

  // Initialize Dark Mode Manager
  let darkModeManager;

  document.addEventListener('DOMContentLoaded', function() {
    darkModeManager = new DarkModeManager();
  });
</script>
</body>
</html>
